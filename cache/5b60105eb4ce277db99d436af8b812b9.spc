a:4:{s:5:"child";a:1:{s:0:"";a:1:{s:3:"rss";a:1:{i:0;a:6:{s:4:"data";s:3:"


";s:7:"attribs";a:1:{s:0:"";a:1:{s:7:"version";s:3:"2.0";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:1:{s:0:"";a:1:{s:7:"channel";a:1:{i:0;a:6:{s:4:"data";s:64:"
	
	
	
	
	
	
	
	
	
	
		
		
		
		
		
		
		
		
		
		
		
		
		
		
	";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:5:{s:0:"";a:7:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:10:"CSS-Tricks";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:22:"https://css-tricks.com";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:61:"Tips, Tricks, and Techniques on using Cascading Style Sheets.";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:13:"lastBuildDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Tue, 06 Apr 2021 20:57:45 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"language";a:1:{i:0;a:5:{s:4:"data";s:5:"en-US";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:9:"generator";a:1:{i:0;a:5:{s:4:"data";s:28:"https://wordpress.org/?v=5.7";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"item";a:15:{i:0;a:6:{s:4:"data";s:76:"
		
		
					
		
		
		
				
		
		

					
										
					
					
			
		
		
			";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:6:{s:0:"";a:7:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:9:"Space Jam";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:31:"https://mxb.dev/blog/space-jam/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:41:"https://css-tricks.com/space-jam/#respond";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Tue, 06 Apr 2021 20:57:42 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:2:{i:0;a:5:{s:4:"data";s:4:"Link";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:11:"performance";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:32:"https://css-tricks.com/?p=337807";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:612:"<p>It&#8217;s certainly worth noting that the Space Jam website, which made its way into umpteen conference talks for being fabulous evidence of the web&#8217;s strength in backward compatibility, <a href="https://www.spacejam.com/">has been replaced</a>. We could have saw that coming. Everything is &#8230;</p>
<hr />
<p>The post <a rel="nofollow" href="https://css-tricks.com/space-jam/">Space Jam</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
<p>You can support CSS-Tricks by being an <a href="https://css-tricks.com/product/mvp-supporter/">MVP Supporter</a>.</p>
";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:12:"Chris Coyier";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:2128:"
<p>It&#8217;s certainly worth noting that the Space Jam website, which made its way into umpteen conference talks for being fabulous evidence of the web&#8217;s strength in backward compatibility, <a href="https://www.spacejam.com/">has been replaced</a>. We could have saw that coming. Everything is remake. The original was released in 1996, making the site, <a href="https://www.spacejam.com/1996/">which they kept online</a>, 25 years old.</p>



<span id="more-337807"></span>



<p>Of course, you knew folks would pull out their measuring sticks. <a href="https://mxb.dev/blog/space-jam/">Here&#8217;s Max Böck</a>:</p>



<blockquote class="wp-block-quote is-style-default"><p>Unsurprisingly, the new site is a lot heavier than the original: with&nbsp;<strong>4.673KB vs. 120KB</strong>, the new site is about&nbsp;<strong>39 times the size</strong>&nbsp;of the old one. That’s because the new site has a trailer video, high-res images and a lot more Javascript.</p></blockquote>



<p>That&#8217;s funny, the 25 year old site is more than 25 times smaller. </p>



<p>They are both websites that exist and promote a movie, so I feel like it&#8217;s fair to call that an apples-to-apples comparison. But Max levels the playing field to the time period by comparing the old site on a 1996 56kb modem and the new site on a 3G mobile network connection, which is 30× faster. When you do that, the sites are nearly neck-and-neck, with the new one being 1.3 seconds faster.</p>



<p>You could say that whatever we&#8217;re given, we use, sort of like how building better protective gear for athletes only makes the athletes hit harder.</p>
<p><a href="https://mxb.dev/blog/space-jam/" title="Direct link to featured article">Direct Link to Article</a> &#8212; <a href="https://css-tricks.com/space-jam/">Permalink</a></p><hr />
<p>The post <a rel="nofollow" href="https://css-tricks.com/space-jam/">Space Jam</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
<p>You can support CSS-Tricks by being an <a href="https://css-tricks.com/product/mvp-supporter/">MVP Supporter</a>.</p>
";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:36:"http://wellformedweb.org/CommentAPI/";a:1:{s:10:"commentRss";a:1:{i:0;a:5:{s:4:"data";s:38:"https://css-tricks.com/space-jam/feed/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:38:"http://purl.org/rss/1.0/modules/slash/";a:1:{s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:1:"0";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:30:"com-wordpress:feed-additions:1";a:1:{s:7:"post-id";a:1:{i:0;a:5:{s:4:"data";s:6:"337807";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:1;a:6:{s:4:"data";s:76:"
		
		
					
		
		
		
				
		
		

					
										
					
					
			
		
		
			";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:6:{s:0:"";a:7:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:55:"Some Articles About Accessibility I’ve Saved Recently";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:76:"https://css-tricks.com/some-articles-about-accessibility-ive-saved-recently/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:84:"https://css-tricks.com/some-articles-about-accessibility-ive-saved-recently/#respond";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Tue, 06 Apr 2021 17:49:08 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:2:{i:0;a:5:{s:4:"data";s:7:"Article";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:13:"accessibility";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:32:"https://css-tricks.com/?p=337504";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:803:"<ul>
<li><a href="https://rachelandrew.co.uk/archives/2021/03/11/good-news-about-display-contents-and-chrome/"><strong>&#8220;Good news about display: contents and Chrome&#8221;</strong></a> — Rachel Andrew notes that the accessibility danger of using <code>display: contents;</code> is fixed in Chrome. The problem was that, say you had a parent div that is laid out as a grid </li>
</ul>
<p>&#8230;</p>
<hr />
<p>The post <a rel="nofollow" href="https://css-tricks.com/some-articles-about-accessibility-ive-saved-recently/">Some Articles About Accessibility I&#8217;ve Saved Recently</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
<p>You can support CSS-Tricks by being an <a href="https://css-tricks.com/product/mvp-supporter/">MVP Supporter</a>.</p>
";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:12:"Chris Coyier";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:4387:"
<ul><li><a href="https://rachelandrew.co.uk/archives/2021/03/11/good-news-about-display-contents-and-chrome/"><strong>&#8220;Good news about display: contents and Chrome&#8221;</strong></a> — Rachel Andrew notes that the accessibility danger of using <code>display: contents;</code> is fixed in Chrome. The problem was that, say you had a parent div that is laid out as a grid and inside you have a <code>&lt;ul&gt;</code> with <code>&lt;li&gt;</code> elements, and you wanted the <code>&lt;li&gt;</code> elements to participate on that same parent grid. We have subgrid, but it&#8217;s not really the same thing. What you want is just to pretend like the <code>&lt;ul&gt;</code> isn&#8217;t there at all and that the <code>&lt;li&gt;</code> elements can hang out on the grid like anything else. The problem was that if you did that, you wiped out the accessible semantics of the list. But no more!</li><li><a href="https://noti.st/rachelandrew/Mny9Vg/grid-content-re-ordering-and-accessibility"><strong>&#8220;Grid, content re-ordering, and accessibility&#8221;</strong></a>  — Speaking of grids and accessibility, here&#8217;s Rachel again teaching us (through this slide deck) how it&#8217;s all-too-easy to really diverge the source order and display order of content with modern layout techniques. At the moment, the solution is essentially not to do that, but the <a href="https://github.com/w3c/csswg-drafts/issues/5675">future might hold</a> a way for browsers to update tab order to be visually sensible when you do dramatically alter the layout.</li><li><a href="https://blog.sapegin.me/all/accessibility-testing/"><strong>&#8220;The most useful accessibility testing tools and techniques&#8221;</strong></a> — Atrem Sapegin lists out some good ones, like <a href="https://github.com/jsx-eslint/eslint-plugin-jsx-a11y">eslint-plugin-jsx-a11y</a>, <a href="https://github.com/storybookjs/storybook/tree/master/addons/a11y">storybook-addon-a11y</a>, <a href="https://github.com/component-driven/cypress-axe">cypress-axe</a>, <a href="https://usecontrast.com/">Contrast app</a>, <a href="https://chrome.google.com/webstore/detail/spectrum/ofclemegkcmilinpcimpjkfhjfgmhieb/related">Spectrum browser extension</a>, and&#8230; using your tab key (lolz). </li><li><strong><a href="https://buttonbuddy.dev/">ButtonBuddy</a></strong> — Tool from Stephanie Eckles that helps generate CSS for buttons. But the real point of it is to give you colors as custom properties that satisfy color contrast guidelines.</li><li><a href="https://amberwilson.co.uk/blog/are-your-anchor-links-accessible/"><strong>&#8220;Are your Anchor Links Accessible?&#8221;</strong></a> — Amber Wilson goes through five iterations of an anchor link in/by a header before landing on a good one and, even then, there are questions to tackle.</li><li><strong><a href="https://www.brucelawson.co.uk/2021/dont-put-pointer-events-none-on-form-labels/">&#8220;Don’t put pointer-events: none on form labels&#8221;</a></strong> — I&#8217;m a little shocked that anyone would do this at all, but it turns out it comes from Material Design&#8217;s &#8220;floating label&#8221; pattern. I think that pattern is so silly. It doesn&#8217;t actually save any space because you need the space where you float the label to anyway. <em>Gosh</em>.</li><li><strong><a href="https://www.sarasoueidan.com/blog/accessible-text-labels/">&#8220;Accessible Text Labels For All&#8221;</a></strong> — Sara Soueidan tests real accessibility software and how it presents common interactive elements. For example, a &#8220;read more&#8221; link isn&#8217;t very useful (read more <em>what</em>?), and &#8220;add to cart&#8221; isn&#8217;t very useful alone (add <em>what</em> to cart?). You can add, for example, product names to those &#8220;add to cart&#8221; buttons, but don&#8217;t do it <em>in the middle</em> of the button as that can break things. Add the extra text<em> at the end</em>. </li></ul>
<hr />
<p>The post <a rel="nofollow" href="https://css-tricks.com/some-articles-about-accessibility-ive-saved-recently/">Some Articles About Accessibility I&#8217;ve Saved Recently</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
<p>You can support CSS-Tricks by being an <a href="https://css-tricks.com/product/mvp-supporter/">MVP Supporter</a>.</p>
";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:36:"http://wellformedweb.org/CommentAPI/";a:1:{s:10:"commentRss";a:1:{i:0;a:5:{s:4:"data";s:81:"https://css-tricks.com/some-articles-about-accessibility-ive-saved-recently/feed/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:38:"http://purl.org/rss/1.0/modules/slash/";a:1:{s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:1:"0";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:30:"com-wordpress:feed-additions:1";a:1:{s:7:"post-id";a:1:{i:0;a:5:{s:4:"data";s:6:"337504";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:2;a:6:{s:4:"data";s:73:"
		
		
					
		
		
		
				
		

					
										
					
					
			
		
		
			";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:6:{s:0:"";a:7:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:11:"Gaps? Gasp!";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:33:"https://css-tricks.com/gaps-gasp/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:42:"https://css-tricks.com/gaps-gasp/#comments";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Tue, 06 Apr 2021 13:35:18 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:1:{i:0;a:5:{s:4:"data";s:7:"Article";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:32:"https://css-tricks.com/?p=336967";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:754:"<p>At first, there were <a href="https://css-tricks.com/snippets/css/a-guide-to-flexbox/">flexboxes</a> (the children of a <code>display: flex</code> container). If you wanted them to be visually separate, you had to use content justification (i.e. <code>justify-content: space-between</code>), <code>margin</code> trickery, or sometimes, both. Then along came <a href="https://css-tricks.com/snippets/css/complete-guide-grid/">grids</a> (a &#8230;</p>
<hr />
<p>The post <a rel="nofollow" href="https://css-tricks.com/gaps-gasp/">Gaps? Gasp!</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
<p>You can support CSS-Tricks by being an <a href="https://css-tricks.com/product/mvp-supporter/">MVP Supporter</a>.</p>
";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:10:"Eric Meyer";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:6552:"
<p>At first, there were <a href="https://css-tricks.com/snippets/css/a-guide-to-flexbox/">flexboxes</a> (the children of a <code>display: flex</code> container). If you wanted them to be visually separate, you had to use content justification (i.e. <code>justify-content: space-between</code>), <code>margin</code> trickery, or sometimes, both. Then along came <a href="https://css-tricks.com/snippets/css/complete-guide-grid/">grids</a> (a <code>display: grid</code> container), and grids could have not-margin not-trickeried minimum gaps between grid cells, thanks to <code>grid-gap</code>. Flexboxes did not have gaps.</p>



<p>Now they can, thanks to the growing support of <code>gap</code>, the <code>grid-gap</code> successor that isn’t confined to grids. With <code>gap</code>, you can gap your grids, your flexboxes, and even your multiple columns. It’s gaptastic!</p>



<span id="more-336967"></span>



<h3 id="h-gap-with-grid">Gap with Grid</h3>



<p>Let’s start where <code>gap</code> is the most robust: CSS Grid. Here’s a basic grid setup in HTML and CSS:</p>



<pre rel="HTML" class="wp-block-csstricks-code-block language-markup" data-line=""><code markup="tt">&lt;section>
  &lt;div>div&lt;/div>
  &lt;div>div&lt;/div>
  &lt;div>div&lt;/div>
  &lt;div>div&lt;/div>
  &lt;div>div&lt;/div>
  &lt;div>div&lt;/div>
  &lt;div>div&lt;/div>
&lt;/section></code></pre>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">section {
  display: grid;
  grid-template-rows: repeat(2,auto);
  grid-template-columns: repeat(4,auto);
  gap: 1em;
}
section div {
  width: 2em;
}</code></pre>



<div class="wp-block-cp-codepen-gutenberg-embed-block cp_embed_wrapper"><iframe id="cp_embed_PoWZzOJ" src="//codepen.io/anon/embed/PoWZzOJ?height=450&amp;theme-id=1&amp;slug-hash=PoWZzOJ&amp;default-tab=css,result" height="450" scrolling="no" frameborder="0" allowfullscreen allowpaymentrequest name="CodePen Embed PoWZzOJ" title="CodePen Embed PoWZzOJ" class="cp_embed_iframe" style="width:100%;overflow:hidden">CodePen Embed Fallback</iframe></div>



<p>That places the grid cells at least <code>1em</code> apart from each other. The separation distance can be greater than that, depending on other conditions beyond the scope of this post, but at a minimum they should be separated by <code>1em</code>. (OK, let’s do one example: <code>gap</code>’s gaps are in addition to any margins on the grid cells, so if all the grid items have <code>margin: 2px;</code>, then the visual distance between grid cells would be at least <code>1em</code> plus <code>4px</code>.) By default, changes to the gap size causes resizing of the grid items, so that they fill their cells.</p>



<p>This all works because <code>gap</code> is actually shorthand for the properties <code>row-gap</code> and <code>column-gap</code>. The <code>gap: 1em</code> is interpreted as <code>gap: 1em 1em</code>, which is shorthand for <code>row-gap: 1em; column-gap: 1em;</code>. If you want different row and column gap distances, then something like <code>gap: 0.5em 1em</code> will do nicely.</p>



<h3 id="h-gap-with-flexbox">Gap with Flexbox</h3>



<p>Doing the same thing in a flexbox context gives you gaps, but not in quite the same way they happen in grids. Assume the same HTML as above, but this CSS instead:</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">section {
  display: flex;
  flex-wrap: wrap;
  gap: 1em;
}</code></pre>



<div class="wp-block-cp-codepen-gutenberg-embed-block cp_embed_wrapper"><iframe id="cp_embed_jOyWrKQ" src="//codepen.io/anon/embed/jOyWrKQ?height=450&amp;theme-id=1&amp;slug-hash=jOyWrKQ&amp;default-tab=css,result" height="450" scrolling="no" frameborder="0" allowfullscreen allowpaymentrequest name="CodePen Embed jOyWrKQ" title="CodePen Embed jOyWrKQ" class="cp_embed_iframe" style="width:100%;overflow:hidden">CodePen Embed Fallback</iframe></div>



<p>The flexboxes are pushed apart by at least the value of <code>gap</code> here, and (thanks to <code>flex-wrap</code>) wrap to new flex lines when they run out of space inside their flex container. Changing the gap distance could lead to a change in the wrapping of the flex items, but unlike in Grid, changing gaps between flex items won’t change the sizes of the flex items. Gap changes can cause the flex wrapping to happen at different places, meaning the number of flex items per row will change, but the widths will stay the same (unless you’ve set them to grow or shrink via <code>flex</code>, that is).</p>



<h3 id="h-gap-with-multi-column">Gap with Multi-Column</h3>



<p>In the case of multicolumn content, there is bit of a restriction on <code>gap</code>: only column gaps are used. You can declare row gaps for multicolumn if you want, but they’ll be ignored.</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">section {
  columns: 2;
  gap: 1em;
}</code></pre>



<div class="wp-block-cp-codepen-gutenberg-embed-block cp_embed_wrapper"><iframe id="cp_embed_eYgJzjw" src="//codepen.io/anon/embed/eYgJzjw?height=450&amp;theme-id=1&amp;slug-hash=eYgJzjw&amp;default-tab=css,result" height="450" scrolling="no" frameborder="0" allowfullscreen allowpaymentrequest name="CodePen Embed eYgJzjw" title="CodePen Embed eYgJzjw" class="cp_embed_iframe" style="width:100%;overflow:hidden">CodePen Embed Fallback</iframe></div>



<h3 id="h-support">Support</h3>



<p><a href="https://caniuse.com/?search=gap">Support for <code>gap</code></a>, <code>row-gap</code>, and <code>column-gap</code> is surprisingly widespread. Mozilla’s had them since version 61, Chromium since version 66, and thanks to <a href="https://blogs.igalia.com/svillar/2020/10/01/closing-the-gap-in-flexbox/">work by</a> <a href="https://blogs.igalia.com/svillar/2020/10/01/closing-the-gap-in-flexbox/">Igalia’s Sergio Villar</a>, they’re coming to Safari and Mobile Safari soon (they’re already in the <a href="https://developer.apple.com/safari/technology-preview/">technology preview builds</a>). So if your grid, flex, or multicolumn content needs a bit more space to breathe, get ready to fall into the gap!</p>
<hr />
<p>The post <a rel="nofollow" href="https://css-tricks.com/gaps-gasp/">Gaps? Gasp!</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
<p>You can support CSS-Tricks by being an <a href="https://css-tricks.com/product/mvp-supporter/">MVP Supporter</a>.</p>
";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:36:"http://wellformedweb.org/CommentAPI/";a:1:{s:10:"commentRss";a:1:{i:0;a:5:{s:4:"data";s:38:"https://css-tricks.com/gaps-gasp/feed/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:38:"http://purl.org/rss/1.0/modules/slash/";a:1:{s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:1:"1";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:30:"com-wordpress:feed-additions:1";a:1:{s:7:"post-id";a:1:{i:0;a:5:{s:4:"data";s:6:"336967";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:3;a:6:{s:4:"data";s:79:"
		
		
					
		
		
		
				
		
		
		

					
										
					
					
			
		
		
			";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:6:{s:0:"";a:7:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:17:"Jetpack Turns 10!";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:33:"https://jetpack.com/ten/?aff=8638";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:48:"https://css-tricks.com/jetpack-turns-10/#respond";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Tue, 06 Apr 2021 13:27:12 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:3:{i:0;a:5:{s:4:"data";s:4:"Link";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:9:"Sponsored";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:2;a:5:{s:4:"data";s:7:"jetpack";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:32:"https://css-tricks.com/?p=337665";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:671:"<p>(This is a <a href='https://css-tricks.com/advertising'>sponsored post</a>.)</p>
<p><a href="https://jetpack.com/ten/?aff=8638">Ten years!</a> That&#8217;s a huge milestone for a project, especially one that had a pretty simple goal in mind from the start: give self-hosted WordPress sites many of the same features and functionality enjoyed &#8230;</p>
<hr />
<p>The post <a rel="nofollow" href="https://css-tricks.com/jetpack-turns-10/">Jetpack Turns 10!</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
<p>You can support CSS-Tricks by being an <a href="https://css-tricks.com/product/mvp-supporter/">MVP Supporter</a>.</p>
";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:12:"Geoff Graham";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:3511:"<p>(This is a <a href='https://css-tricks.com/advertising'>sponsored post</a>.)</p>
<p><a href="https://jetpack.com/ten/?aff=8638">Ten years!</a> That&#8217;s a huge milestone for a project, especially one that had a pretty simple goal in mind from the start: give self-hosted WordPress sites many of the same features and functionality enjoyed by hosted WordPress.com sites.</p>



<p>It&#8217;s a great story. The Automattic team responsible for driving social activity in WordPress sees Jetpack as a way to expand and unify social activity across <em>all</em> WordPress sites, and winds up paving the way for a product that today helps more than 5 million sites with everything from security and performance to backups and integrations.</p>



<p>And what has Jetpack accomplished in those 10 years and 5 million sites? The numbers are staggering:</p>



<span id="more-337665"></span>



<ul class="ticss-bc4dfb38"><li><strong>122 billion blocked malicious login attempts.<br></strong><em>9,330,623 of those on CSS-Tricks, as we write.</em></li><li><strong>269 million site backups.<br></strong><em>Last backup of CSS-Tricks: 3 minutes ago, as we write.</em></li><li><strong>24 trillion images served by Jetpack CDN.<br></strong><em>Incredibly, a <strong>free</strong> feature of Jetpack.</em></li><li><strong>61.6 billion site searches.<br></strong><em>Try site search on this site, the latest release has really nice UI &amp; UX improvements, like seeing the post thumbnail.</em></li><li><strong>50 billion related posts displayed.</strong><em> Related posts plugins are notoriously heavy on the server, but not when you let Jetpack do it!</em></li><li><strong>1.6 trillion tracked page views.</strong><em> Those are the numbers at work here with WordPress being some 40% of the web.</em></li><li><strong>2.6 billion shared social posts.</strong><br><em>The <a href="https://twitter.com/css">@css Twitter account</a> runs itself thanks to Jetpack.</em></li></ul>



<p>And you know CSS-Tricks is represented in those figures. Jetpack powers <a href="https://css-tricks.com/jetpack-instant-search/">our search</a>. We use it for <a href="https://css-tricks.com/jetpack-backup/">real-time backups</a> and downtime monitoring. It&#8217;s what helps us <a href="https://css-tricks.com/jetpacks-social-integration-features/">push content to Twitter</a> and display related posts. <a href="https://css-tricks.com/the-four-big-ways-jetpack-helps-with-image-performance/#2-you-get-a-cdn">We use its CDN.</a> We even use a <a href="https://css-tricks.com/jetpack-gutenberg-blocks/">bunch of blocks it includes</a> when we&#8217;re writing posts like this. <a href="https://css-tricks.com/jetpack/">We love Jetpack.</a></p>



<p>The Jetpack team <a href="https://jetpack.com/ten/?aff=8638">launched a site</a> celebrating 10 years. And, hey, for a super limited time, <strong><a href="https://cloud.jetpack.com/pricing/?aff=8638">you can get 40% off the entire first year of any Jetpack plan</a></strong>.</p>
<p><a href="https://jetpack.com/ten/?aff=8638" title="Direct link to featured article">Direct Link to Article</a> &#8212; <a href="https://css-tricks.com/jetpack-turns-10/">Permalink</a></p><hr />
<p>The post <a rel="nofollow" href="https://css-tricks.com/jetpack-turns-10/">Jetpack Turns 10!</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
<p>You can support CSS-Tricks by being an <a href="https://css-tricks.com/product/mvp-supporter/">MVP Supporter</a>.</p>
";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:36:"http://wellformedweb.org/CommentAPI/";a:1:{s:10:"commentRss";a:1:{i:0;a:5:{s:4:"data";s:45:"https://css-tricks.com/jetpack-turns-10/feed/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:38:"http://purl.org/rss/1.0/modules/slash/";a:1:{s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:1:"0";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:30:"com-wordpress:feed-additions:1";a:1:{s:7:"post-id";a:1:{i:0;a:5:{s:4:"data";s:6:"337665";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:4;a:6:{s:4:"data";s:88:"
		
		
					
		
		
		
				
		
		
		
		
		
		

					
										
					
					
			
		
		
			";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:6:{s:0:"";a:7:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:54:"Splitting Time Between Product and Engineering Efforts";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:78:"https://css-tricks.com/splitting-time-between-product-and-engineering-efforts/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:87:"https://css-tricks.com/splitting-time-between-product-and-engineering-efforts/#comments";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Mon, 05 Apr 2021 19:57:38 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:6:{i:0;a:5:{s:4:"data";s:7:"Article";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:13:"Communication";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:2;a:5:{s:4:"data";s:22:"Engineering Management";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:3;a:5:{s:4:"data";s:10:"Migrations";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:4;a:5:{s:4:"data";s:28:"Product and Engineering work";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:5;a:5:{s:4:"data";s:8:"refactor";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:32:"https://css-tricks.com/?p=337340";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:650:"<p>At each company I’ve worked, we have had a split between time spent on Product initiatives and Engineering work. The percentages always changed, sometimes 70% Product, 30% Engineering, sometimes as much as a 50/50 split. The impetus is to make &#8230;</p>
<hr />
<p>The post <a rel="nofollow" href="https://css-tricks.com/splitting-time-between-product-and-engineering-efforts/">Splitting Time Between Product and Engineering Efforts</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
<p>You can support CSS-Tricks by being an <a href="https://css-tricks.com/product/mvp-supporter/">MVP Supporter</a>.</p>
";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:13:"Sarah Drasner";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:18876:"
<p>At each company I’ve worked, we have had a split between time spent on Product initiatives and Engineering work. The percentages always changed, sometimes 70% Product, 30% Engineering, sometimes as much as a 50/50 split. The impetus is to make sure that Engineering spends a portion of their time building new features, but also ensures we can do &#8220;our own&#8221; work such as address technical debt, upgrade systems, and document our code.</p>



<p><strong>The trouble is, it’s one thing to say this at the outset, and another to make it a reality.</strong> There are some reasons that I’ve seen this model fail, not because people don’t understand in theory that it’s valuable, but because in practice, there are some common pitfalls that you have to think through. We’ll cover some of these scenarios from the perspective of an Engineering leader so that we can address a good path forward.</p>



<span id="more-337340"></span>



<h3 id="h-the-issues">The issues</h3>



<p>Some of the pointers below are reactions and planning based on what can go wrong, so let’s talk first about the challenges you can encounter if this isn’t set up right.</p>



<ul><li><strong>Product may have conflicts, either with the work itself or the time involved.</strong> This can strain the relationship between Product and Engineering. If they are caught by surprise, you can potentially find the boundaries of your work getting more restrictive.</li><li><strong>Your engineers might not understand what’s expected of them</strong>. Parallelization of efforts can be hard to do, so building a good process can provide clarity.</li><li><strong>Maintenance path should be clear</strong>: Are you planning on making a giant system upgrade? This may affect other teams over time and if you’re not clear about eventual ownership, it could come back to haunt you. &#x1f47b;</li></ul>



<p>As nice as it is to have some freedom in your engineering time, communication, planning, and clear expectations can help make sure that you avoid any of the issues outlined above.</p>



<figure class="wp-block-image size-full"><img loading="lazy" width="2560" height="1569" src="https://css-tricks.com/wp-content/uploads/2021/03/akson-1K8pIbIrhkQ-unsplash-scaled.jpeg" alt="A group of people working" class="wp-image-337346" srcset="https://css-tricks.com/wp-content/uploads/2021/03/akson-1K8pIbIrhkQ-unsplash-scaled.jpeg 2560w, https://css-tricks.com/wp-content/uploads/2021/03/akson-1K8pIbIrhkQ-unsplash-300x184.jpeg 300w, https://css-tricks.com/wp-content/uploads/2021/03/akson-1K8pIbIrhkQ-unsplash-1024x628.jpeg 1024w, https://css-tricks.com/wp-content/uploads/2021/03/akson-1K8pIbIrhkQ-unsplash-768x471.jpeg 768w, https://css-tricks.com/wp-content/uploads/2021/03/akson-1K8pIbIrhkQ-unsplash-1536x942.jpeg 1536w, https://css-tricks.com/wp-content/uploads/2021/03/akson-1K8pIbIrhkQ-unsplash-2048x1255.jpeg 2048w, https://css-tricks.com/wp-content/uploads/2021/03/akson-1K8pIbIrhkQ-unsplash-1000x613.jpeg 1000w" sizes="(min-width: 735px) 864px, 96vw" /><figcaption>Photo by <a href="https://unsplash.com/@akson?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Akson</a> on <a href="https://unsplash.com/s/photos/collaboration?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Unsplash</a></figcaption></figure>



<h2 id="h-communication"><strong>Communication</strong></h2>



<p>Once you figure out what problem you would like to tackle, it’s critical to <strong>write up a small one-sheeter</strong> that you can share with stakeholders on the nature of the work, the amount of time it’s going to take, and why it’s important.</p>



<p>If it’s a large project, you can also scope those pieces down into GitHub/GitLab/Jira issues, and add a label for the type of work that it is. This is great because you can use whatever project management system you already use to elevate the amount of work and expectations weekly. It’s good to keep the dialogue open with your Product partners on scope and the nature of the work so they aren’t surprised by other work getting done. This will largely vary by the culture of the team and organization.</p>



<p>This can help provide clarity for your Engineers, too. If they understand the nature of the work and what’s expected of them, it’s easier for them to tackle the small issues that make up a whole.</p>



<p><strong>You may find that it makes less sense from a focus perspective to have every engineer split time across product and engineering projects.</strong> They may instead prefer to split the work up between themselves: three people on product work for a few weeks, one person on engineering work. There are also times where everyone does need to be involved so that they have equal institutional knowledge (migrations can be like this, depending on what it is). Your mileage may vary based on the size of the team, the amount of product work, and the type of project.&nbsp;</p>



<p>Communication helps here, too — if you’re not sure what the right path is, it can help to have a small brainstorm as a group on how you want to get this done. Just be sure you also align everyone with <em>why</em> the project is important as you do so.</p>



<h2 id="h-types-of-projects"><strong>Types of projects</strong></h2>



<p>There are many types of projects that you can create in your Engineering team time, and each has slightly different approaches from what I’ve seen, so let’s go over each one of them.</p>



<h4 id="h-tech-debt"><strong>Tech debt</strong></h4>



<p>Let’s address <a href="https://css-tricks.com/defining-and-dealing-with-technical-debt/">technical debt</a> first because that’s one of the most common pieces of work that can unlock your team. For every feature you write, if Engineering effort is slowed, you’re not only losing time in terms of product development, you’re also losing money in terms of engineering time in salary. </p>



<p>A bit of technical debt is natural, particularly at smaller companies where it makes more fiscal sense to move quickly, but there are some points where tech debt becomes crippling for development and releases, and makes a codebase unstable. Sometimes it needs to be done immediately to make sure all your engineers can work efficiently, and sometimes it’s gradual.</p>



<p>In a lot of cases, the technical debt pieces are things you learn you need by a bottoms-up approach: the devs that are closest to working with the system will know best what day-to-day technical debt exists than Engineering Managers (EMs) typically will. The challenge as an EM is to notice larger patterns, like when many folks complain of the same thing, rather than one dev who may have a strong opinion. Asking around before you start this type of project can help — poll people on how much time they think they’re wasting in a given week vs the prospect of an alternative.</p>



<p>Sometimes technical debt is a matter of a large amount of refactor. <strong>I’ve seen this go best when people are up front on what kind of pull requests (PR) are necessary.</strong> Do you need to update the CSS in a million spots? Or convert old class components to hooks? You probably don’t want one huge PR for all of it, but it doesn’t make sense to break this work per-component either. Work together as a team on how much each PR will hold and <em>what is expected of the review </em>so you don’t create a “review hole” while the work is being done.</p>



<figure class="wp-block-image size-full"><img loading="lazy" width="2560" height="1707" src="https://css-tricks.com/wp-content/uploads/2021/03/heylagostechie-IgUR1iX0mqM-unsplash-scaled.jpeg" alt="Two people looking at some code" class="wp-image-337347" srcset="https://css-tricks.com/wp-content/uploads/2021/03/heylagostechie-IgUR1iX0mqM-unsplash-scaled.jpeg 2560w, https://css-tricks.com/wp-content/uploads/2021/03/heylagostechie-IgUR1iX0mqM-unsplash-300x200.jpeg 300w, https://css-tricks.com/wp-content/uploads/2021/03/heylagostechie-IgUR1iX0mqM-unsplash-1024x683.jpeg 1024w, https://css-tricks.com/wp-content/uploads/2021/03/heylagostechie-IgUR1iX0mqM-unsplash-768x512.jpeg 768w, https://css-tricks.com/wp-content/uploads/2021/03/heylagostechie-IgUR1iX0mqM-unsplash-1536x1024.jpeg 1536w, https://css-tricks.com/wp-content/uploads/2021/03/heylagostechie-IgUR1iX0mqM-unsplash-2048x1365.jpeg 2048w, https://css-tricks.com/wp-content/uploads/2021/03/heylagostechie-IgUR1iX0mqM-unsplash-1000x667.jpeg 1000w" sizes="(min-width: 735px) 864px, 96vw" /><figcaption>Photo by <a href="https://unsplash.com/@heylagostechie?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">heylagostechie</a> on <a href="https://unsplash.com/@heylagostechie?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Unsplash</a></figcaption></figure>



<h4 id="h-innovative-projects"><strong>Innovative projects</strong></h4>



<p>A lot of companies will do hack week/innovation week projects where devs can work on some feature related to the company’s product untethered. It’s a great time for exploration, and I’ve seen some powerful features added to well-known applications this way. It’s also incredibly energizing for the team to see an idea of their own come to fruition.</p>



<p>The trouble with doing these kinds of projects in the split engineering time is that you can, at times, make the Product team feel a little slighted. Why? Well, think of things from their perspective. Their job is to put forth these features, plan carefully with stakeholders, put together roadmaps (often based on company metrics and research), and get on the Engineering schedule, usually working with a project manager. If you spend half your time working on unplanned features, you can potentially fork an existing plan for a project, go against some of the known research they have, or simply slow down the process to get a core make-it-or-break it feature they need.</p>



<p><strong>The way I’ve seen this play out well is when the EM communicates up front with Product.</strong> Consider this a partnership: if Product says that a particular feature doesn’t make sense, they likely have a good reason for thinking so. If you can both hear each other out, there is likely a path forward where you both agree.&nbsp;</p>



<p>It’s good to address their fears, too. Are they concerned that there won’t be enough time for product work? Ask your team directly how many weeks at half time they think it might take (with the expectations that things might shift once they dig in). Make it clear to everyone that you don’t expect it to be done at a break-neck pace.</p>



<p>Ultimately, communication is key. Ideally, these are small projects that won’t derail anything that can be done in parallel to the regular work. My suggestion is to try it with something very small first to see what bumps in the road there might be, and also build trust with Product that you’ll still get your work done and not “go rogue.”</p>



<p>The final piece of this is to figure out who is responsible for metrics, outcomes, and when things don’t go well. Part of the reason Product gets to decide direction is because they’re on the hook when it fails. Make sure you’re clear that as an Engineering leader, you’re taking responsibility for outcomes, both the good <em>and</em><strong> </strong>the bad to maintain a good relationship.</p>



<h4 id="h-slow-ongoing-work"><strong>Slow, ongoing work</strong></h4>



<p>This is probably the most clear-cut of any of the types of projects and will likely get the least amount of pushback from anyone. Examples of this type of work is internal documentation, tooling (if you don’t have a dedicated tools team), or small bits of maintenance.</p>



<p>The communication needed here is a little different from other projects, as it’s not necessarily going to be one constrained project that you ship, but rather an iterative process. Take documentation as an example: I would suggest building time for internal documentation into any feature process.&nbsp;</p>



<p>For instance, let’s say you created a new feature that allows teams to collaborate. Not everyone across the company may know that you created a microservice for this feature that any team can use, and what parameters are expected, or how to add functionality down the road. Internal docs can be the difference between the service being used, as well as your team being asked to pair with someone every time someone needs to use it. Or worse: them trying to hack around and figure it out on their own, creating a mess of something that could have been worked on quicker and more efficiently.</p>



<p>Unlike the innovation projects, slow, ongoing work is typically not something folks really crave doing, so setting a process and expectations up straightaway works best. Internal documentation is a sometimes hidden but very important part of a well-functioning team. It helps with onboarding, getting everyone on the same page about system architecture, and can even help devs really solidify what they built and think through how they’re solving it.</p>



<figure class="wp-block-image size-full"><img loading="lazy" width="2560" height="1707" src="https://css-tricks.com/wp-content/uploads/2021/03/christina-wocintechchat-com-IxmHiUC-yOw-unsplash-scaled.jpeg" alt="Two women talking about something on a computer screen" class="wp-image-337351" srcset="https://css-tricks.com/wp-content/uploads/2021/03/christina-wocintechchat-com-IxmHiUC-yOw-unsplash-scaled.jpeg 2560w, https://css-tricks.com/wp-content/uploads/2021/03/christina-wocintechchat-com-IxmHiUC-yOw-unsplash-300x200.jpeg 300w, https://css-tricks.com/wp-content/uploads/2021/03/christina-wocintechchat-com-IxmHiUC-yOw-unsplash-1024x683.jpeg 1024w, https://css-tricks.com/wp-content/uploads/2021/03/christina-wocintechchat-com-IxmHiUC-yOw-unsplash-768x512.jpeg 768w, https://css-tricks.com/wp-content/uploads/2021/03/christina-wocintechchat-com-IxmHiUC-yOw-unsplash-1536x1024.jpeg 1536w, https://css-tricks.com/wp-content/uploads/2021/03/christina-wocintechchat-com-IxmHiUC-yOw-unsplash-2048x1365.jpeg 2048w, https://css-tricks.com/wp-content/uploads/2021/03/christina-wocintechchat-com-IxmHiUC-yOw-unsplash-1000x667.jpeg 1000w" sizes="(min-width: 735px) 864px, 96vw" /><figcaption>Photo by <a href="https://unsplash.com/@wocintechchat?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Christina @ wocintechchat.com</a> on <a href="https://unsplash.com/s/photos/collaboration?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Unsplash</a></figcaption></figure>



<h4 id="h-migrations"><strong>Migrations</strong></h4>



<p>Migrations are handled a little differently than some other types of projects because it likely affects everyone. There is no one right way to do this, and will also largely depend on what type of migration it is — framework to framework, breaking down a monolith, and migrating to a different build process or server all may have different approaches. Due to the fact that each one of these is likely an article of its own, let&#8217;s go through some high level options that apply to the organization of them.</p>



<ul><li><strong>My first suggestion is to do as much research as possible up front on whatever type of migration you’re doing.</strong> There’s no way to know everything, but you don’t want to get part-way through a process to find out something critical. This is also helpful information to share with stakeholders.</li><li>Are there internal debates about what direction your company should head in? <strong>Timebox a unit of time to work through the problem and make sure you have a clear decision-maker at the end</strong>. A lot of tech problems don’t have one “true” solution, so having one owner make the decision and everyone else disagree and commit can help. But you also want to give a moment for folks to have their voices heard about what gives them pause, even if they are in disagreement — they might be thinking of something you’re not.</li><li><strong>Document a migration plan, both at a high level and then work through the impact on each team.</strong> This is also a great time to explain to Product why this work is important: is your codebase becoming old and can no longer play well with other libraries and tools? Did a new build process come out that could save your engineers time in a release process? Help them understand why the work is critical.</li><li><strong>Be clear about maintenance and ownership.</strong> If one team migrates a build process that then causes issues for another, who’s fixing things to unblock that team? You should decide this before it happens.</li><li>Some migration paths allow you do things slowly over time, or team by team, or do a lot of the work up front. However, there is usually a time when it’s going to be critical and all hands on deck are needed. Unlike some of the other work that can be parallelized, <strong>you may have to work something out with Product where all other feature work is stalled for a little bit while you get the new system in place.</strong> If you work closely with them, you may find that there are times in the season where you naturally have more of a customer lull, and it could give you the breathing room you need to get this done. I’d suggest that if they’re willing to let you take Engineering time to 100% for a little while, you return the favor; and once the platform is stable, dedicate 100% of the team’s time to Product work.</li></ul>



<h2 id="h-celebrate"><strong>Celebrate!</strong></h2>



<p>This final step might seem optional, but it&#8217;s a big deal in my opinion. Your team just pulled off something incredible: they parallelized efforts, they were good partners to Product, they got something done for the Engineering org at large. It’s crucial to celebrate the work like you would a launch.</p>



<p><strong>The team needs to know you value this work because it’s often thankless, but very impactful</strong>. It can also build trust to know that if something hairy comes up in the future, that it does actually help their career path as well. Celebrating with your team what you accomplished costs very little, and has great cultural impacts.</p>
<hr />
<p>The post <a rel="nofollow" href="https://css-tricks.com/splitting-time-between-product-and-engineering-efforts/">Splitting Time Between Product and Engineering Efforts</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
<p>You can support CSS-Tricks by being an <a href="https://css-tricks.com/product/mvp-supporter/">MVP Supporter</a>.</p>
";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:36:"http://wellformedweb.org/CommentAPI/";a:1:{s:10:"commentRss";a:1:{i:0;a:5:{s:4:"data";s:83:"https://css-tricks.com/splitting-time-between-product-and-engineering-efforts/feed/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:38:"http://purl.org/rss/1.0/modules/slash/";a:1:{s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:1:"2";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:30:"com-wordpress:feed-additions:1";a:1:{s:7:"post-id";a:1:{i:0;a:5:{s:4:"data";s:6:"337340";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:5;a:6:{s:4:"data";s:79:"
		
		
					
		
		
		
				
		
		
		

					
										
					
					
			
		
		
			";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:6:{s:0:"";a:7:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:14:"Definition Tag";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:34:"https://jen4web.substack.com/p/dfn";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:46:"https://css-tricks.com/definition-tag/#respond";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Mon, 05 Apr 2021 15:54:34 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:3:{i:0;a:5:{s:4:"data";s:4:"Link";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:3:"dfn";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:2;a:5:{s:4:"data";s:4:"HTML";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:32:"https://css-tricks.com/?p=337804";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:604:"<p>It&#8217;s <code>&#60;dfn</code>. Jen Kramer and Erika Lee are doing a <a href="https://jen4web.substack.com/">#30DaysofHTML email list thing-y</a> on Substack, which is an easy subscribe. It&#8217;s only been a few days and all of them have little gems, even for someone like me &#8230;</p>
<hr />
<p>The post <a rel="nofollow" href="https://css-tricks.com/definition-tag/">Definition Tag</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
<p>You can support CSS-Tricks by being an <a href="https://css-tricks.com/product/mvp-supporter/">MVP Supporter</a>.</p>
";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:12:"Chris Coyier";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:1827:"
<p>It&#8217;s <code>&lt;dfn></code>. Jen Kramer and Erika Lee are doing a <a href="https://jen4web.substack.com/">#30DaysofHTML email list thing-y</a> on Substack, which is an easy subscribe. It&#8217;s only been a few days and all of them have little gems, even for someone like me who likes to think he has a pretty decent grasp on HTML. <a href="https://jen4web.substack.com/p/dfn">Day 4 is <code>&lt;dfn></code>.</a> </p>



<p>I&#8217;m sure I could have told you that <code>&lt;dfn&gt;</code> was &#8220;definition&#8221; but I certainly don&#8217;t reach for it as often as I probably should and couldn&#8217;t give you a straight answer on the perfect time to use it. </p>



<span id="more-337804"></span>



<p>I think Erika nails that here:</p>



<pre rel="HTML" class="wp-block-csstricks-code-block language-markup" data-line=""><code markup="tt">&lt;p>He is not as enamored with &lt;dfn id="kong">King Kong&lt;/dfn> 
  who resembles an enormous gorilla-like ape that has appeared 
  in various media since 1933. &lt;/p> 

...

&lt;p>Complaints about &lt;a href="#kong">Kong&lt;/a> include how he 
  has no atomic fire breath.&lt;/p> </code></pre>



<p>I really like the idea of defining a term naturally and contextually within a block of text, and pointing back up to it with an anchor link later if needed.</p>
<p><a href="https://jen4web.substack.com/p/dfn" title="Direct link to featured article">Direct Link to Article</a> &#8212; <a href="https://css-tricks.com/definition-tag/">Permalink</a></p><hr />
<p>The post <a rel="nofollow" href="https://css-tricks.com/definition-tag/">Definition Tag</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
<p>You can support CSS-Tricks by being an <a href="https://css-tricks.com/product/mvp-supporter/">MVP Supporter</a>.</p>
";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:36:"http://wellformedweb.org/CommentAPI/";a:1:{s:10:"commentRss";a:1:{i:0;a:5:{s:4:"data";s:43:"https://css-tricks.com/definition-tag/feed/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:38:"http://purl.org/rss/1.0/modules/slash/";a:1:{s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:1:"0";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:30:"com-wordpress:feed-additions:1";a:1:{s:7:"post-id";a:1:{i:0;a:5:{s:4:"data";s:6:"337804";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:6;a:6:{s:4:"data";s:79:"
		
		
					
		
		
		
				
		
		
		

					
										
					
					
			
		
		
			";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:6:{s:0:"";a:7:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:47:"Creating a Smart Navbar With Vanilla JavaScript";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:71:"https://css-tricks.com/creating-a-smart-navbar-with-vanilla-javascript/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:80:"https://css-tricks.com/creating-a-smart-navbar-with-vanilla-javascript/#comments";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Mon, 05 Apr 2021 12:55:52 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:3:{i:0;a:5:{s:4:"data";s:7:"Article";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:10:"navigation";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:2;a:5:{s:4:"data";s:6:"sticky";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:32:"https://css-tricks.com/?p=337295";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:615:"<p>Sticky, or fixed, navigation is a popular design choice because it gives users persistent access to navigate the site. On the other hand, it takes up space on the page and sometimes covers content is a way that’s less than &#8230;</p>
<hr />
<p>The post <a rel="nofollow" href="https://css-tricks.com/creating-a-smart-navbar-with-vanilla-javascript/">Creating a Smart Navbar With Vanilla JavaScript</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
<p>You can support CSS-Tricks by being an <a href="https://css-tricks.com/product/mvp-supporter/">MVP Supporter</a>.</p>
";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:10:"Jemima Abu";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:11576:"
<p>Sticky, or fixed, navigation is a popular design choice because it gives users persistent access to navigate the site. On the other hand, it takes up space on the page and sometimes covers content is a way that’s less than appealing.</p>



<p>A possible solution? Smart navigation.</p>



<span id="more-337295"></span>



<p>Let’s define “smart navigation” as:</p>



<ol><li>Visible at the top of the page</li><li>Visible when the user moves <strong>up</strong> the page (wherever they may have scrolled to)</li><li>Hidden when the user moves <strong>down</strong> the page</li></ol>



<p>Here’s an example of how that might work:</p>



<div class="wp-block-cp-codepen-gutenberg-embed-block cp_embed_wrapper"><iframe id="cp_embed_yLVzxdQ" src="//codepen.io/anon/embed/yLVzxdQ?height=550&amp;theme-id=1&amp;slug-hash=yLVzxdQ&amp;default-tab=result" height="550" scrolling="no" frameborder="0" allowfullscreen allowpaymentrequest name="CodePen Embed yLVzxdQ" title="CodePen Embed yLVzxdQ" class="cp_embed_iframe" style="width:100%;overflow:hidden">CodePen Embed Fallback</iframe></div>



<p>It‘s all the convenience of sticky positioning, with an added fullscreen benefit. This sort of smart navigation is already commonly (think of the URL bar in many mobile browsers), but is sometimes a hassle to implement without a library or plugin. So, in this article, we’ll discuss how to build one using CSS and vanilla JavaScript.</p>



<p class="is-style-explanation"><strong>Side note:</strong> People have different definitions of what <em>scrolling down</em> a page means (imagine how some trackpad preferences scroll the page <em>up</em> when you move your fingers <em>down</em>). For the purposes of this article, <em>scrolling down</em> refers to moving towards the bottom of the page.</p>



<h3 id="h-let-s-look-at-the-code">Let’s look at the code</h3>



<p>Here’s some example HTML. Our smart navigation will be the <code>&lt;nav&gt;</code> which sits above the <code>&lt;main&gt;</code>:</p>



<pre rel="HTML" class="wp-block-csstricks-code-block language-markup" data-line=""><code markup="tt">&lt;nav>
  &lt;div class="logo">
    Logo
  &lt;/div>
  &lt;div class="links">
    &lt;a href="#">Link 1&lt;/a>
    &lt;a href="#">Link 2&lt;/a>
    &lt;a href="#">Link 3&lt;/a>
    &lt;a href="#">Link 4&lt;/a>
  &lt;/div>
&lt;/nav>
&lt;main>
  &lt;!--Place the content of your page here-->
&lt;/main></code></pre>



<p>It’s important to note that elements are only sticky <em>relative to their parent container</em>. The parent container of <code>&lt;nav&gt;</code> should be the body tag; it shouldn’t be placed within another tag on the page.</p>



<p>The CSS for our smart navigation looks like this:</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">nav {
  position: sticky;
  top: 0;
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  padding: 1.5rem 2rem;
  background-color: #eaeaea;
}</code></pre>



<p>Now we need to detect when our user is scrolling the page and the direction of their scrolling. A user is scrolling down if the value of their last scroll position is <em>less</em> than the value of their current scroll position. Breaking the logic down, we’ll need to:</p>



<ol><li>Define a variable to store the previous scroll position</li><li>Assign a variable to detect the current scroll position set to the scroll offset of the page</li></ol>



<p>If the current scroll position is greater than the previous scroll position, then the user is scrolling downwards. Let’s call our function <code>isScrollingDown</code>:</p>



<pre rel="JavaScript" class="wp-block-csstricks-code-block language-javascript" data-line=""><code markup="tt">let previousScrollPosition = 0;

const isScrollingDown = () => {
  let currentScrolledPosition = window.scrollY || window.pageYOffset;
  let scrollingDown;

  if (currentScrolledPosition > previousScrollPosition) {
    scrollingDown = true;
  } else {
    scrollingDown = false;
  }
  previousScrollPosition = currentScrolledPosition;
  return scrollingDown;
};</code></pre>



<p>Here’s a visual representation of how this function works:</p>



<div class="wp-block-cp-codepen-gutenberg-embed-block cp_embed_wrapper"><iframe id="cp_embed_rNWRqYK" src="//codepen.io/anon/embed/rNWRqYK?height=450&amp;theme-id=1&amp;slug-hash=rNWRqYK&amp;default-tab=result" height="450" scrolling="no" frameborder="0" allowfullscreen allowpaymentrequest name="CodePen Embed rNWRqYK" title="CodePen Embed rNWRqYK" class="cp_embed_iframe" style="width:100%;overflow:hidden">CodePen Embed Fallback</iframe></div>



<p>With this logic, we’re able to detect when the page is scrolling down so we can use this to toggle our nav styling:</p>



<pre rel="JavaScript" class="wp-block-csstricks-code-block language-javascript" data-line=""><code markup="tt">const nav = document.querySelector('nav');

const handleNavScroll = () => {
  if (isScrollingDown()) {
    nav.classList.add('scroll-down');
    nav.classList.remove('scroll-up')
  } else {
    nav.classList.add('scroll-up');
    nav.classList.remove('scroll-down')
  }
}</code></pre>



<p>If the user is scrolling down, we’ll assign a <code>.scroll-down</code> class that contains our styling method for when the page is moving downward. We can update our <code>&lt;nav&gt;</code> CSS to this:</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">nav {
  /* default styling */
  transition: top 500ms ease-in-out;
}

nav.scroll-up {
  top: 0;
}

nav.scroll-down {
  top: -100%;
}</code></pre>



<p>With this styling, the <code>top</code> property value of <code>&lt;nav&gt;</code> is set to -100% of the page height so it slides out of view. We could also choose to handle our styling with <code>translate</code> or by fading it out — whatever animation works best.</p>



<h4 id="h-performance">Performance</h4>



<p>Whenever we’re working with scroll event listeners, performance is something that should immediately come to mind. Right now, we’re calling our function every time the user scrolls the page, but we don’t need to detect each pixel movement.</p>



<p>For this case, we can implement a throttle function instead. A throttle function is a higher order function that acts as a timer for the function passed into it. If we throttle a scroll event with a timer of 250ms, the event will only be called every 250ms while the user scrolls. It’s a great way to limit the number of times we call the function, helping with the performance of the page.</p>



<p class="is-style-explanation">David Corbacho goes deeper into throttle implementations in <a href="https://css-tricks.com/debouncing-throttling-explained-examples/">this article.</a></p>



<p>A simple throttle implementation in JavaScript looks like this:</p>



<pre rel="JavaScript" class="wp-block-csstricks-code-block language-javascript" data-line=""><code markup="tt">// initialize a throttleWait variable
var throttleWait;

const throttle = (callback, time) => {
  // if the variable is true, don't run the function
  if (throttleWait) return;

  // set the wait variable to true to pause the function
  throttleWait = true;

  // use setTimeout to run the function within the specified time
  setTimeout(() => {
    callback();

    // set throttleWait to false once the timer is up to restart the throttle function
    throttleWait = false;
  }, time);
}</code></pre>



<p>Then we can include our <code>handleNavScroll</code> function inside a throttle:</p>



<pre rel="JavaScript" class="wp-block-csstricks-code-block language-javascript" data-line=""><code markup="tt">window.addEventListener("scroll", () => {
  throttle(handleNavScroll, 250)
});</code></pre>



<p>With this implementation, the <code>handleNavScroll</code> function is only called once every 250ms.</p>



<h4 id="h-accessibility">Accessibility</h4>



<p>Whenever implementing a custom feature in JavaScript, we must always take accessibility into concern. One such issue is ensuring that <code>&lt;nav&gt;</code> is visible when it’s in focus. Browsers tend to scroll to the part of the page that currently has focus by default, but there can be certain complications when working with scroll events.</p>



<p>A way to ensure that <code>&lt;nav&gt;</code> is always visible is to update the CSS to account for focus. Now our CSS looks like this:</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">nav.scroll-up,
nav:focus-within {
  top: 0;
}</code></pre>



<p>Unfortunately, the <code><a href="https://css-tricks.com/almanac/selectors/f/focus-within/">focus-within</a></code> selector <a href="https://caniuse.com/css-focus-within">isn’t fully supported across all browsers.</a> We can include a JavaScript fallback for it:</p>



<pre rel="JavaScript" class="wp-block-csstricks-code-block language-javascript" data-line=""><code markup="tt">const handleNavScroll = () => {
  if (isScrollingDown() &amp;&amp; !nav.contains(document.activeElement))) {
    nav.classList.add('scroll-down');
    nav.classList.remove('scroll-up')
  } else {
    nav.classList.add('scroll-up');
    nav.classList.remove('scroll-down')
  }
}</code></pre>



<p>In this updated function, we only apply the <code>scroll-down</code> class if the user is scrolling down the page and the <code>&lt;nav&gt;</code> doesn’t currently have any element with focus in it.</p>



<p>Another aspect of accessibility is the consideration that some users may not want to have any animation on the page. That’s something we can detect and respect with the <code><a href="https://css-tricks.com/introduction-reduced-motion-media-query/">prefers-reduced-motion</a></code> CSS media query. We can update this method in JavaScript and prevent our function from running at all if a user prefers reduced motion:</p>



<pre rel="JavaScript" class="wp-block-csstricks-code-block language-javascript" data-line=""><code markup="tt">const mediaQuery = window.matchMedia("(prefers-reduced-motion: reduce)");

window.addEventListener("scroll", () => {
  if (mediaQuery &amp;&amp; !mediaQuery.matches) {
    throttle(handleNavScroll, 250)
  }
});</code></pre>



<h3 id="h-wrapping-up">Wrapping up</h3>



<p>So, there we have it: a smart navigation implementation with plain CSS and vanilla JavaScript. Now users have persistent access to navigate the site without losing real estate in a way that blocks content.</p>



<p>Plus, the benefit of a custom implementation like this is that we get a delightful user experience that isn’t over-engineered or sacrifices open performance or accessibility.</p>



<div class="wp-block-cp-codepen-gutenberg-embed-block cp_embed_wrapper"><iframe id="cp_embed_yLVzxdQ" src="//codepen.io/anon/embed/yLVzxdQ?height=550&amp;theme-id=1&amp;slug-hash=yLVzxdQ&amp;default-tab=result" height="550" scrolling="no" frameborder="0" allowfullscreen allowpaymentrequest name="CodePen Embed yLVzxdQ" title="CodePen Embed yLVzxdQ" class="cp_embed_iframe" style="width:100%;overflow:hidden">CodePen Embed Fallback</iframe></div>
<hr />
<p>The post <a rel="nofollow" href="https://css-tricks.com/creating-a-smart-navbar-with-vanilla-javascript/">Creating a Smart Navbar With Vanilla JavaScript</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
<p>You can support CSS-Tricks by being an <a href="https://css-tricks.com/product/mvp-supporter/">MVP Supporter</a>.</p>
";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:36:"http://wellformedweb.org/CommentAPI/";a:1:{s:10:"commentRss";a:1:{i:0;a:5:{s:4:"data";s:76:"https://css-tricks.com/creating-a-smart-navbar-with-vanilla-javascript/feed/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:38:"http://purl.org/rss/1.0/modules/slash/";a:1:{s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:1:"4";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:30:"com-wordpress:feed-additions:1";a:1:{s:7:"post-id";a:1:{i:0;a:5:{s:4:"data";s:6:"337295";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:7;a:6:{s:4:"data";s:88:"
		
		
					
		
		
		
				
		
		
		
		
		
		

					
										
					
					
			
		
		
			";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:6:{s:0:"";a:7:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:95:"Platform News: Rounded Outlines, GPU-Accelerated SVG Animations, How CSS Variables Are Resolved";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:116:"https://css-tricks.com/platform-news-rounded-outlines-gpu-accelerated-svg-animations-how-css-variables-are-resolved/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:125:"https://css-tricks.com/platform-news-rounded-outlines-gpu-accelerated-svg-animations-how-css-variables-are-resolved/#comments";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Fri, 02 Apr 2021 19:35:28 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:6:{i:0;a:5:{s:4:"data";s:7:"Article";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:13:"accessibility";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:2;a:5:{s:4:"data";s:13:"css variables";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:3;a:5:{s:4:"data";s:7:"outline";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:4;a:5:{s:4:"data";s:13:"SVG animation";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:5;a:5:{s:4:"data";s:5:"units";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:32:"https://css-tricks.com/?p=337636";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:737:"<p>In the news this week, Firefox gets rounded outlines, SVG animations are now GPU-accelerated in Chrome, there are no physical units in CSS, <em>The New York Times</em> crossword is accessible, and CSS variables are resolved before the value is inherited.&#8230;</p>
<hr />
<p>The post <a rel="nofollow" href="https://css-tricks.com/platform-news-rounded-outlines-gpu-accelerated-svg-animations-how-css-variables-are-resolved/">Platform News: Rounded Outlines, GPU-Accelerated SVG Animations, How CSS Variables Are Resolved</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
<p>You can support CSS-Tricks by being an <a href="https://css-tricks.com/product/mvp-supporter/">MVP Supporter</a>.</p>
";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:11:"Šime Vidas";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:13206:"
<p>In the news this week, Firefox gets rounded outlines, SVG animations are now GPU-accelerated in Chrome, there are no physical units in CSS, <em>The New York Times</em> crossword is accessible, and CSS variables are resolved before the value is inherited.</p>



<span id="more-337636"></span>



<p>Let&#8217;s jump in the news!</p>



<h3 id="h-rounded-outlines-are-coming-to-firefox">Rounded outlines are coming to Firefox</h3>



<p>The idea to have the outline follow the border curve has existed ever since it became possible to create rounded borders via the <code>border-radius</code> property in the mid 2000s. It was suggested to <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=315209">Mozilla</a>, <a href="https://bugs.webkit.org/show_bug.cgi?id=25293#c2">WebKit</a>, and <a href="https://bugs.chromium.org/p/chromium/issues/detail?id=81556">Chromium</a> over ten years ago, and it’s even been part of the <a href="https://drafts.csswg.org/css-ui/#outline-color">CSS UI specification</a> since 2015:</p>



<blockquote class="wp-block-quote is-style-large"><p>The parts of the outline are not required to be rectangular. To the extent that the outline follows the border edge, <mark>it should follow the <code>border-radius</code> curve</mark>.</p></blockquote>



<p>Fast-forward to today in 2021 and outlines are still rectangles in every browser without exception:</p>



<div class="wp-block-cp-codepen-gutenberg-embed-block cp_embed_wrapper"><iframe id="cp_embed_JjEExRo" src="//codepen.io/anon/embed/JjEExRo?height=450&amp;theme-id=1&amp;slug-hash=JjEExRo&amp;default-tab=result" height="450" scrolling="no" frameborder="0" allowfullscreen allowpaymentrequest name="CodePen Embed JjEExRo" title="CodePen Embed JjEExRo" class="cp_embed_iframe" style="width:100%;overflow:hidden">CodePen Embed Fallback</iframe></div>



<p>But this is finally starting to change. In a few weeks, Firefox will <a href="https://groups.google.com/g/mozilla.dev.platform/c/VJhM6SSQd-4/m/x3B45oatCAAJ">become</a> the first browser with rounded outlines that automatically follow the border shape. This will also apply to Firefox’s default focus outline on buttons.</p>



<figure class="wp-block-image size-full ticss-c7b5343d"><img loading="lazy" width="1344" height="592" src="https://css-tricks.com/wp-content/uploads/2021/04/button-focus-outine-comparison.png" alt="Three sets of round yellow buttons, comparing how Chrome, Firefox, and Safari handle outlines." class="wp-image-337637" srcset="https://css-tricks.com/wp-content/uploads/2021/04/button-focus-outine-comparison.png 1344w, https://css-tricks.com/wp-content/uploads/2021/04/button-focus-outine-comparison-300x132.png 300w, https://css-tricks.com/wp-content/uploads/2021/04/button-focus-outine-comparison-1024x451.png 1024w, https://css-tricks.com/wp-content/uploads/2021/04/button-focus-outine-comparison-768x338.png 768w, https://css-tricks.com/wp-content/uploads/2021/04/button-focus-outine-comparison-1000x440.png 1000w" sizes="(min-width: 735px) 864px, 96vw" /></figure>



<p>Please star Chromium <a href="https://bugs.chromium.org/p/chromium/issues/detail?id=81556">Issue #81556</a> (sign in required) to help prioritize this bug and bring rounded outlines to Chrome sooner rather than later.</p>



<h3 id="h-svg-animations-are-now-gpu-accelerated-in-chrome">SVG animations are now GPU-accelerated in Chrome</h3>



<p>Until recently, animating an SVG element via CSS would trigger repaint on every frame (usually 60 times per second) in Chromium-based browsers. Such constant repainting can have a negative impact on the smoothness of the animation and the performance of the page itself.</p>



<p>The latest version of Chrome has eliminated this performance issue by <a href="https://developer.chrome.com/blog/hardware-accelerated-animations/#hardware-accelerated-svg-animations">enabling</a> hardware acceleration for SVG animations. This means that SVG animations are offloaded to the GPU and no longer run on the main thread.</p>



<figure class="wp-block-image size-full ticss-7bead8b0"><img loading="lazy" width="2560" height="1291" src="https://css-tricks.com/wp-content/uploads/2021/04/hardware-accelerated-svg-animations.png" alt="Side by side comparison of the Performance tab in Chrome DevTools." class="wp-image-337638" srcset="https://css-tricks.com/wp-content/uploads/2021/04/hardware-accelerated-svg-animations.png 2560w, https://css-tricks.com/wp-content/uploads/2021/04/hardware-accelerated-svg-animations-300x151.png 300w, https://css-tricks.com/wp-content/uploads/2021/04/hardware-accelerated-svg-animations-1024x516.png 1024w, https://css-tricks.com/wp-content/uploads/2021/04/hardware-accelerated-svg-animations-768x387.png 768w, https://css-tricks.com/wp-content/uploads/2021/04/hardware-accelerated-svg-animations-1536x775.png 1536w, https://css-tricks.com/wp-content/uploads/2021/04/hardware-accelerated-svg-animations-2048x1033.png 2048w, https://css-tricks.com/wp-content/uploads/2021/04/hardware-accelerated-svg-animations-1000x504.png 1000w" sizes="(min-width: 735px) 864px, 96vw" /><figcaption>In this example, the SVG circle is continuously faded in and out via a CSS animation (<a href="https://bugs.chromium.org/p/chromium/issues/detail?id=330199#c19">see code</a>)</figcaption></figure>



<p>The switch to GPU acceleration automatically made SVG animations more performant in Chromium-based browsers (<a href="https://twitter.com/cassiecodes/status/1364524280864792576">Firefox does this too</a>), which is definitely <a href="https://twitter.com/cassiecodes/status/1360522611759931393">good news</a> for the web:</p>



<blockquote class="wp-block-quote is-style-large"><p>Hooray for more screen reader-accessible, progressively enhanced SVG animations and less Canvas.</p></blockquote>



<h3 id="h-there-cannot-be-real-physical-units-in-css">There cannot be real physical units in CSS</h3>



<p>CSS defines six <a href="https://drafts.csswg.org/css-values/#absolute-lengths">physical units</a>, including <code>in</code> (inches) and <code>cm</code> (centimeters). Every physical unit is in a fixed ratio with the pixel unit, which is the canonical unit. For example, <code>1in</code> is always exactly <code>96px</code>. On most modern screens, this length does not correspond to 1 real-world inch.</p>



<p>The FAQ page of the CSS Working Group now <a href="https://wiki.csswg.org/faq#real-physical-lengths">answers</a> the question why there can’t be real physical units in CSS. In short, the browser cannot always determine the exact size and resolution of the display (think projectors). For websites that need accurate real-world units, the Working Group recommends per-device calibration:</p>



<blockquote class="wp-block-quote is-style-large"><p>Have a calibration page, where you ask the user to measure the distance between two lines that are some CSS distance apart (say, <code>10cm</code>), and input the value they get. Use this to find the scaling factor necessary for that screen (CSS length divided by user-provided length).</p></blockquote>



<p>This scaling factor can then be set to a custom property and used to compute accurate lengths in CSS:</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">html {
  --unit-scale: 1.428;
}

.box {
  /* 5 real-world centimeters */
  width: calc(5cm * var(--unit-scale, 1));
}</code></pre>



<h3 id="h-the-times-crossword-is-accessible-to-screen-reader-users">The Times crossword is accessible to screen reader users</h3>



<p>The NYT Open team <a href="https://open.nytimes.com/a-more-accessible-web-fa87592da6d2">wrote</a> about some of the improvements to the New York Times website that have made it more accessible in recent years. The website uses semantic HTML (<code>&lt;article&gt;</code>, <code>&lt;nav&gt;</code>, etc.), increased contrast on important components (e.g., login and registration), and skip-to-content links that adapt to the site’s paywall.</p>



<p>Furthermore, the Games team made the daily crossword puzzle accessible to keyboard and screen reader users. The crossword is implemented as a grid of SVG <code>&lt;rect&gt;</code> elements. As the user navigates through the puzzle, the current square’s <code>aria-label</code> attribute (accessible name) is dynamically updated to provide additional context.</p>



<figure class="wp-block-image size-full ticss-22e631a6"><img loading="lazy" width="2177" height="1423" src="https://css-tricks.com/wp-content/uploads/2021/04/times-crossword-voiceover.png" alt="Screenshot of the crossword game with an open screen reader dialog announcing what is on the screen." class="wp-image-337639" srcset="https://css-tricks.com/wp-content/uploads/2021/04/times-crossword-voiceover.png 2177w, https://css-tricks.com/wp-content/uploads/2021/04/times-crossword-voiceover-300x196.png 300w, https://css-tricks.com/wp-content/uploads/2021/04/times-crossword-voiceover-1024x669.png 1024w, https://css-tricks.com/wp-content/uploads/2021/04/times-crossword-voiceover-768x502.png 768w, https://css-tricks.com/wp-content/uploads/2021/04/times-crossword-voiceover-1536x1004.png 1536w, https://css-tricks.com/wp-content/uploads/2021/04/times-crossword-voiceover-2048x1339.png 2048w, https://css-tricks.com/wp-content/uploads/2021/04/times-crossword-voiceover-1000x654.png 1000w" sizes="(min-width: 735px) 864px, 96vw" /><figcaption>The screen reader announces the clue, the number of letters in the solution, and the position of the selected square</figcaption></figure>



<p>You can play the <a href="https://www.nytimes.com/crosswords/game/mini">mini crossword</a> without an account. Try solving the puzzle with the keyboard.</p>



<h3 id="h-css-variables-are-resolved-before-the-value-is-inherited">CSS variables are resolved before the value is inherited</h3>



<p>Yuan Chuan recently <a href="https://twitter.com/yuanchuan23/status/1365949896826572802">shared</a> a little CSS quiz that I didn’t answer correctly because I wasn’t sure if a CSS variable (the <code>var()</code> function) is resolved before or after the value is inherited. I’ll try to explain how this works on the following example:</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">html {
  --text-color: var(--main-color, black);
}

footer {
  --main-color: brown;
}

p {
  color: var(--text-color);
}</code></pre>



<p>The question: Is the color of the paragraph in the footer <code>black</code> or <code>brown</code>? There are two possibilities. Either (A) the declared values of both custom properties are inherited to the paragraph, and then the <code>color</code> property resolves to <code>brown</code>, or (B) the <code>--text-color</code> property resolves to <code>black</code> directly on the <code>&lt;html&gt;</code> element, and then this value is inherited to the paragraph and assigned to the <code>color</code> property.</p>



<figure class="wp-block-image size-full"><img loading="lazy" width="1634" height="1196" src="https://css-tricks.com/wp-content/uploads/2021/04/css-variables-resolution-inheritance.png" alt="Two CSS rulesets, one as Option A and the other as Option B, both showing how variables are inherited and resolved between elements." class="wp-image-337640" srcset="https://css-tricks.com/wp-content/uploads/2021/04/css-variables-resolution-inheritance.png 1634w, https://css-tricks.com/wp-content/uploads/2021/04/css-variables-resolution-inheritance-300x220.png 300w, https://css-tricks.com/wp-content/uploads/2021/04/css-variables-resolution-inheritance-1024x750.png 1024w, https://css-tricks.com/wp-content/uploads/2021/04/css-variables-resolution-inheritance-768x562.png 768w, https://css-tricks.com/wp-content/uploads/2021/04/css-variables-resolution-inheritance-1536x1124.png 1536w, https://css-tricks.com/wp-content/uploads/2021/04/css-variables-resolution-inheritance-1000x732.png 1000w" sizes="(min-width: 735px) 864px, 96vw" /></figure>



<p>The correct answer is option B (<a href="https://codepen.io/simevidas/pen/mdROgWe?editors=0100">the color is black</a>). CSS variables are resolved <em>before</em> the value is inherited. In this case, <code>--text-color</code> falls back to <code>black</code> because <code>--main-color</code> does not exist on the <code>&lt;html&gt;</code> element. This rule is specified in the <a href="https://drafts.csswg.org/css-variables/#cycles">CSS Variables module</a>:</p>



<blockquote class="wp-block-quote is-style-large"><p>It is important to note that custom properties resolve any <code>var()</code> functions in their values at computed-value time, which occurs before the value is inherited.</p></blockquote>
<hr />
<p>The post <a rel="nofollow" href="https://css-tricks.com/platform-news-rounded-outlines-gpu-accelerated-svg-animations-how-css-variables-are-resolved/">Platform News: Rounded Outlines, GPU-Accelerated SVG Animations, How CSS Variables Are Resolved</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
<p>You can support CSS-Tricks by being an <a href="https://css-tricks.com/product/mvp-supporter/">MVP Supporter</a>.</p>
";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:36:"http://wellformedweb.org/CommentAPI/";a:1:{s:10:"commentRss";a:1:{i:0;a:5:{s:4:"data";s:121:"https://css-tricks.com/platform-news-rounded-outlines-gpu-accelerated-svg-animations-how-css-variables-are-resolved/feed/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:38:"http://purl.org/rss/1.0/modules/slash/";a:1:{s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:1:"4";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:30:"com-wordpress:feed-additions:1";a:1:{s:7:"post-id";a:1:{i:0;a:5:{s:4:"data";s:6:"337636";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:8;a:6:{s:4:"data";s:76:"
		
		
					
		
		
		
				
		
		

					
										
					
					
			
		
		
			";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:6:{s:0:"";a:7:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:20:"Honeypot DEVS ANSWER";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:44:"https://css-tricks.com/honeypot-devs-answer/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:52:"https://css-tricks.com/honeypot-devs-answer/#respond";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Fri, 02 Apr 2021 19:34:37 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:2:{i:0;a:5:{s:4:"data";s:7:"Article";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:9:"interview";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:32:"https://css-tricks.com/?p=337154";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:850:"<p>I did <a href="https://www.youtube.com/watch?v=Ent8w_88T4o&#38;t=7s">this thing</a> for <a href="https://www.youtube.com/channel/UCsUalyRg43M8D60mtHe6YcA">Honeypots YouTube Channel</a>. I had heard of Honeypot through these mini documentaries they have done, like about <a href="https://www.youtube.com/watch?v=OrxmtDw4pVI">Vue.js</a>, <a href="https://www.youtube.com/watch?v=783ccP__No8">GraphQL</a>, and <a href="https://www.youtube.com/watch?v=Cvz-9ccflKQ">Ember.js</a>. They do a great job, so I was happy to &#8230;</p>
<hr />
<p>The post <a rel="nofollow" href="https://css-tricks.com/honeypot-devs-answer/">Honeypot DEVS ANSWER</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
<p>You can support CSS-Tricks by being an <a href="https://css-tricks.com/product/mvp-supporter/">MVP Supporter</a>.</p>
";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:12:"Chris Coyier";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:3517:"
<p>I did <a href="https://www.youtube.com/watch?v=Ent8w_88T4o&amp;t=7s">this thing</a> for <a href="https://www.youtube.com/channel/UCsUalyRg43M8D60mtHe6YcA">Honeypots YouTube Channel</a>. I had heard of Honeypot through these mini documentaries they have done, like about <a href="https://www.youtube.com/watch?v=OrxmtDw4pVI">Vue.js</a>, <a href="https://www.youtube.com/watch?v=783ccP__No8">GraphQL</a>, and <a href="https://www.youtube.com/watch?v=Cvz-9ccflKQ">Ember.js</a>. They do a great job, so I was happy to shoot them over some answers to questions for this series.</p>



<span id="more-337154"></span>



<figure class="wp-block-embed is-type-video is-provider-youtube wp-block-embed-youtube wp-embed-aspect-16-9 wp-has-aspect-ratio"><div class="wp-block-embed__wrapper">
<iframe loading="lazy" title="DEVS ANSWER: Chris Coyier" width="500" height="281" src="https://www.youtube.com/embed/Ent8w_88T4o?start=7&#038;feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</div></figure>



<p>Here&#8217;s a <abbr title="too long, didn't read">TLDR</abbr>-ish transcript:</p>



<h3 id="h-what-s-the-best-way-to-stay-up-to-date-with-new-technologies">What&#8217;s the best way to stay up to date with new technologies?</h3>



<p>Don&#8217;t worry about it much. If you&#8217;re actively building websites and solving problems that come up day to day, you&#8217;re doing the job and that&#8217;s what&#8217;s important. If you&#8217;re really worried you&#8217;re only ever using outdated tech, go to a conference once a year and see what people are talking about.</p>



<h3 id="h-what-are-your-top-tips-for-career-advancement">What are your top tips for career advancement?</h3>



<p>Writing! You don&#8217;t have to blog, even though I like that idea. You can write to your co-workers, or even keep a private log. Writing really opens doors and makes you a better thinker.</p>



<h3 id="h-what-strengths-are-most-important-for-a-developer">What strengths are most important for a developer?</h3>



<p>Communication trumps raw technical skill. One developer alone can never do as much as a high functioning team, and communication is what makes a team high functioning. </p>



<h3 id="h-what-what-the-proudest-moment-of-your-career">What what the proudest moment of your career?</h3>



<p>I tend to look back at things that took a long time and didn&#8217;t involve just me. CodePen will be 10 years old next year. That&#8217;s something to be proud of.</p>



<h3 id="h-when-did-you-realize-you-wanted-to-be-a-developer">When did you realize you wanted to be a developer?</h3>



<p>I had a good teacher in high school. I&#8217;m sure they don&#8217;t even remember me, but I was highly into the computer programming class they taught. I&#8217;d come to school early to use the computer lab. I&#8217;d stay after school. I&#8217;d take my study halls there. Working on a program, with the guidance of that teacher, was deeply fun. While I ended up abandoning computer science in college for art, my career now I find was a way to marry my love of computer nerdery and art.</p>
<hr />
<p>The post <a rel="nofollow" href="https://css-tricks.com/honeypot-devs-answer/">Honeypot DEVS ANSWER</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
<p>You can support CSS-Tricks by being an <a href="https://css-tricks.com/product/mvp-supporter/">MVP Supporter</a>.</p>
";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:36:"http://wellformedweb.org/CommentAPI/";a:1:{s:10:"commentRss";a:1:{i:0;a:5:{s:4:"data";s:49:"https://css-tricks.com/honeypot-devs-answer/feed/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:38:"http://purl.org/rss/1.0/modules/slash/";a:1:{s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:1:"0";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:30:"com-wordpress:feed-additions:1";a:1:{s:7:"post-id";a:1:{i:0;a:5:{s:4:"data";s:6:"337154";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:9;a:6:{s:4:"data";s:76:"
		
		
					
		
		
		
				
		
		

					
										
					
					
			
		
		
			";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:6:{s:0:"";a:7:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:16:"The Deno Company";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:40:"https://css-tricks.com/the-deno-company/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:49:"https://css-tricks.com/the-deno-company/#comments";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Fri, 02 Apr 2021 19:10:56 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:2:{i:0;a:5:{s:4:"data";s:7:"Article";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:11:"open source";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:32:"https://css-tricks.com/?p=337673";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:682:"<p>I&#8217;m sure a lot of you are paying attention to <a href="https://deno.land/">Deno</a> anyway, the next-gen JavaScript-on-the-sever project from Node creator Ryan Dahl, especially after dropping all these <a href="http://tinyclouds.org/jsconf2018.pdf">candid regrets</a> about what happened in Node. But perhaps you&#8217;re paying more attention now &#8230;</p>
<hr />
<p>The post <a rel="nofollow" href="https://css-tricks.com/the-deno-company/">The Deno Company</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
<p>You can support CSS-Tricks by being an <a href="https://css-tricks.com/product/mvp-supporter/">MVP Supporter</a>.</p>
";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:12:"Chris Coyier";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:4100:"
<p>I&#8217;m sure a lot of you are paying attention to <a href="https://deno.land/">Deno</a> anyway, the next-gen JavaScript-on-the-sever project from Node creator Ryan Dahl, especially after dropping all these <a href="http://tinyclouds.org/jsconf2018.pdf">candid regrets</a> about what happened in Node. But perhaps you&#8217;re paying more attention now that Deno has taken some seed investment and will be turning <a href="https://deno.com/blog/the-deno-company">itself into a company</a>, while staying open-source:</p>



<blockquote class="wp-block-quote is-style-default"><p>For Deno to grow and be maximally useful, it must remain permissively free. We don’t believe the “open core” business model is right for a programming platform like Deno. We do not want to find ourselves in the unfortunate position where we have to decide if certain features are for paid customers only. If you watch our conference talks, you will find we&#8217;ve been hinting at commercial applications of this infrastructure for years. We are bullish about the technology stack we&#8217;ve built and intend to pursue those commercial applications ourselves. Our business will build on the open source project, not attempt to monetize it directly.</p></blockquote>



<span id="more-337673"></span>



<p>I&#8217;m excited about this because other people are, to some degree. I know the &#8220;secure by default&#8221; nature of it is exciting to my <a href="https://blog.codepen.io/2021/02/24/304-security-at-codepen/">extremely security-conscious</a> co-founder, Alex.</p>



<p>I find features like &#8220;TypeScript out of the box&#8221; interesting. While I don&#8217;t really use TypeScript myself, I find it striking just what a big deal it is. <a href="https://shoptalkshow.com/345/">Talking to Laurie Voss</a> a few years back, I learned that nearly two-thirds of developers were using it, and it doesn&#8217;t seem like it has lost any steam. And you&#8217;ve got <a href="https://syntax.fm/show/337/hasty-treat-effortless-custom-graphql-with-graphql-codegen">Scott Tolinski over here waxing poetic</a> about how GraphQL is all typed and you get this dreamy fully-typed stack when TypeScript is part of the mix.</p>



<p>There is already a bundler (literally, <a href="https://github.com/timreichen/Bundler">Bundler</a>) for Deno that supports TypeScript out of the box, along with JSX. Guess what else does? The big next-gen build tools, <a href="https://www.snowpack.dev/">Snowpack</a>, <a href="https://vitejs.dev/">Vite</a>, and <a href="https://github.com/preactjs/wmr">wmr</a>.  </p>



<p>Deno is also written in <a href="https://www.rust-lang.org/">Rust</a>, which is an interesting angle to all this, partially because of the speed (it&#8217;s fast). Snowpack and Vite both use <a href="https://github.com/evanw/esbuild">esbuild</a> under the hood, which is written in Go (also fast). I don&#8217;t have a great sense of whether Go or Rust is faster for this type of work, but they are both a big leap forward from most of the bundlers and task runners we use today. You can even use esbuild directly, or with light abstractions over it, like <a href="https://github.com/rsms/estrella">Estrella</a>. Again, TypeScript supported.</p>



<p>It makes me wonder about <a href="https://babeljs.io/">Babel</a>. If you don&#8217;t run TypeScript through it, and don&#8217;t need it for JSX, and don&#8217;t need to compile away basic ES6/7 stuff now that support is so wide, how long does it stick around? A long time, is the answer, of course. A project as big as Babel doesn&#8217;t just disappear. I suppose all it takes is one exotic and desirable new JavaScript feature that is compilable to an existing syntax, and everybody will be putting it back into their pipelines.</p>
<hr />
<p>The post <a rel="nofollow" href="https://css-tricks.com/the-deno-company/">The Deno Company</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
<p>You can support CSS-Tricks by being an <a href="https://css-tricks.com/product/mvp-supporter/">MVP Supporter</a>.</p>
";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:36:"http://wellformedweb.org/CommentAPI/";a:1:{s:10:"commentRss";a:1:{i:0;a:5:{s:4:"data";s:45:"https://css-tricks.com/the-deno-company/feed/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:38:"http://purl.org/rss/1.0/modules/slash/";a:1:{s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:1:"1";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:30:"com-wordpress:feed-additions:1";a:1:{s:7:"post-id";a:1:{i:0;a:5:{s:4:"data";s:6:"337673";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:10;a:6:{s:4:"data";s:82:"
		
		
					
		
		
		
				
		
		
		
		

					
										
					
					
			
		
		
			";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:6:{s:0:"";a:7:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:57:"Let’s Create an Image Pop-Out Effect With SVG Clip Path";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:78:"https://css-tricks.com/lets-create-an-image-pop-out-effect-with-svg-clip-path/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:87:"https://css-tricks.com/lets-create-an-image-pop-out-effect-with-svg-clip-path/#comments";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Fri, 02 Apr 2021 14:49:54 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:4:{i:0;a:5:{s:4:"data";s:7:"Article";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:9:"clip-path";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:2;a:5:{s:4:"data";s:5:"hover";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:3;a:5:{s:4:"data";s:3:"SVG";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:32:"https://css-tricks.com/?p=337308";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:875:"<p>Few weeks ago, I stumbled upon <a href="https://codepen.io/ainalem/pen/QWGNzYm">this cool pop-out effect</a> by <a href="https://codepen.io/ainalem">Mikael Ainalem</a>. It showcases the <code><a href="https://css-tricks.com/an-initial-implementation-of-clip-path-path/">clip-path: path()</a></code> in CSS, which just got <a href="https://caniuse.com/mdn-css_properties_clip-path_path">proper support in most modern browsers</a>. I wanted to dig into it myself to get &#8230;</p>
<hr />
<p>The post <a rel="nofollow" href="https://css-tricks.com/lets-create-an-image-pop-out-effect-with-svg-clip-path/">Let’s Create an Image Pop-Out Effect With SVG Clip Path</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
<p>You can support CSS-Tricks by being an <a href="https://css-tricks.com/product/mvp-supporter/">MVP Supporter</a>.</p>
";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:11:"Adrian Bece";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:18637:"
<p>Few weeks ago, I stumbled upon <a href="https://codepen.io/ainalem/pen/QWGNzYm">this cool pop-out effect</a> by <a href="https://codepen.io/ainalem">Mikael Ainalem</a>. It showcases the <code><a href="https://css-tricks.com/an-initial-implementation-of-clip-path-path/">clip-path: path()</a></code> in CSS, which just got <a href="https://caniuse.com/mdn-css_properties_clip-path_path">proper support in most modern browsers</a>. I wanted to dig into it myself to get a better feel for how it works. But in the process, I found some issues with <code>clip-path: path();</code> and wound up finding an alternative approach that I wanted to walk through with you in this article.</p>



<span id="more-337308"></span>



<div class="wp-block-cp-codepen-gutenberg-embed-block cp_embed_wrapper"><iframe id="cp_embed_QWGNzYm" src="//codepen.io/anon/embed/QWGNzYm?height=550&amp;theme-id=1&amp;slug-hash=QWGNzYm&amp;default-tab=result" height="550" scrolling="no" frameborder="0" allowfullscreen allowpaymentrequest name="CodePen Embed QWGNzYm" title="CodePen Embed QWGNzYm" class="cp_embed_iframe" style="width:100%;overflow:hidden">CodePen Embed Fallback</iframe></div>



<p>If you haven’t used <code>clip-path</code> or you are unfamiliar with it, it basically allows us to <a href="https://css-tricks.com/almanac/properties/c/clip-path/">specify a display region</a> for an element based on a clipping path and hide portions of the element that fall outside the clip path.</p>



<figure class="wp-block-image size-full"><img loading="lazy" width="1280" height="477" src="https://css-tricks.com/wp-content/uploads/2021/03/s_CFA1D4954B8B8D19CEF5C55799156BE41D20BDFE3C39C18C91091815F3D70562_1615815667400_NewProject12.jpg" alt="A rectangle with a pastel pattern, plus an unfilled star shape with a black border, equals a star shape with the pastel background pattern." class="wp-image-337309" srcset="https://css-tricks.com/wp-content/uploads/2021/03/s_CFA1D4954B8B8D19CEF5C55799156BE41D20BDFE3C39C18C91091815F3D70562_1615815667400_NewProject12.jpg 1280w, https://css-tricks.com/wp-content/uploads/2021/03/s_CFA1D4954B8B8D19CEF5C55799156BE41D20BDFE3C39C18C91091815F3D70562_1615815667400_NewProject12-300x112.jpg 300w, https://css-tricks.com/wp-content/uploads/2021/03/s_CFA1D4954B8B8D19CEF5C55799156BE41D20BDFE3C39C18C91091815F3D70562_1615815667400_NewProject12-1024x382.jpg 1024w, https://css-tricks.com/wp-content/uploads/2021/03/s_CFA1D4954B8B8D19CEF5C55799156BE41D20BDFE3C39C18C91091815F3D70562_1615815667400_NewProject12-768x286.jpg 768w, https://css-tricks.com/wp-content/uploads/2021/03/s_CFA1D4954B8B8D19CEF5C55799156BE41D20BDFE3C39C18C91091815F3D70562_1615815667400_NewProject12-1000x373.jpg 1000w" sizes="(min-width: 735px) 864px, 96vw" /><figcaption>You can kind of think of it as though the star is a cookie cutter, the element is the cookie dough, and the result is a star-shaped cookie.</figcaption></figure>



<p>Possible values for <code>clip-path</code> include <code>circle</code> , <code>ellipse</code> and <code>polygon</code> which limit the use-case to just those specific shapes. This is where the new <code>path</code> value comes in — it allows us to use a more flexible SVG path to create various clipping paths that go beyond basic shapes.</p>



<p>Let’s take what we know about <code>clip-path</code> and start working on the hover effect. The basic idea of the is to make the foreground image of a person appear to pop-out from the colorful background and scale up in size when the element is hovered. An important detail is how the foreground image animation (scale up and move up) appears to be independent from the background image animation (scale up only).</p>



<figure class="wp-block-video"><video controls src="https://css-tricks.com/wp-content/uploads/2021/03/Original-hover-effect.mov"></video></figure>



<p>This effect looks cool, but there are some issues with the <code>path</code> value. For starters, while we mentioned that support is generally good, it’s not great and hovers <a href="https://caniuse.com/mdn-css_properties_clip-path_path">around 82%</a> coverage at the time of writing. So, keep in mind that mobile support is currently limited to Chrome and Safari.</p>



<p>Besides support, the bigger and more bizarre issue with <code>path</code> is that <strong>it currently only works with pixel values</strong>, meaning that <a href="https://css-tricks.com/unfortunately-clip-path-path-is-still-a-no-go/">it is not responsive</a>. For example, let’s say we zoom into the page. Right off the bat, the path shape starts to cut things off.</p>



<figure class="wp-block-jetpack-image-compare"><div class="juxtapose" data-mode="vertical"><img loading="lazy" id="337362" src="https://css-tricks.com/wp-content/uploads/2021/03/image-regular-1.png" alt="" width="1227" height="361" class="image-compare__image-before"/><img loading="lazy" id="337312" src="https://i2.wp.com/css-tricks.com/wp-content/uploads/2021/03/pop-out-effect-zoomed.png?ssl=1" alt="" width="1227" height="361" class="image-compare__image-after"/></div></figure>



<p>This severely limits the number of use cases for <code>clip-path: path()</code>, as it can only be used on fixed-sized elements. Responsive web design has been a widely-accepted standard for many years now, so it’s weird to see a new CSS property that doesn’t follow the principle and exclusively uses pixel units.</p>



<p>What we’re going to do is re-create this effect using standard, widely-supported CSS techniques so that it not only works, but is truly responsive as well.</p>



<h3 id="h-the-tricky-part">The tricky part</h3>



<p>We want anything that overflows the <code>clip-path</code> to be visible only on the top part of the image. We cannot use a standard CSS <code>overflow</code> property since it affects both the top and bottom.</p>



<figure class="wp-block-image size-full ticss-4c99b789"><img loading="lazy" width="1580" height="614" src="https://css-tricks.com/wp-content/uploads/2021/03/s_CFA1D4954B8B8D19CEF5C55799156BE41D20BDFE3C39C18C91091815F3D70562_1615536161132_Screenshot2021-03-12at09.02.35.png" alt="Photo of a young woman against a pastel floral pattern cropped to the shape of a circle." class="wp-image-337313" srcset="https://css-tricks.com/wp-content/uploads/2021/03/s_CFA1D4954B8B8D19CEF5C55799156BE41D20BDFE3C39C18C91091815F3D70562_1615536161132_Screenshot2021-03-12at09.02.35.png 1580w, https://css-tricks.com/wp-content/uploads/2021/03/s_CFA1D4954B8B8D19CEF5C55799156BE41D20BDFE3C39C18C91091815F3D70562_1615536161132_Screenshot2021-03-12at09.02.35-300x117.png 300w, https://css-tricks.com/wp-content/uploads/2021/03/s_CFA1D4954B8B8D19CEF5C55799156BE41D20BDFE3C39C18C91091815F3D70562_1615536161132_Screenshot2021-03-12at09.02.35-1024x398.png 1024w, https://css-tricks.com/wp-content/uploads/2021/03/s_CFA1D4954B8B8D19CEF5C55799156BE41D20BDFE3C39C18C91091815F3D70562_1615536161132_Screenshot2021-03-12at09.02.35-768x298.png 768w, https://css-tricks.com/wp-content/uploads/2021/03/s_CFA1D4954B8B8D19CEF5C55799156BE41D20BDFE3C39C18C91091815F3D70562_1615536161132_Screenshot2021-03-12at09.02.35-1536x597.png 1536w, https://css-tricks.com/wp-content/uploads/2021/03/s_CFA1D4954B8B8D19CEF5C55799156BE41D20BDFE3C39C18C91091815F3D70562_1615536161132_Screenshot2021-03-12at09.02.35-1000x389.png 1000w" sizes="(min-width: 735px) 864px, 96vw" /><figcaption>Using&nbsp;<code>overflow-y: hidden</code>, the bottom part looks good, but the image is cut-off&nbsp;at&nbsp;the top&nbsp;where the overflow should be visible.</figcaption></figure>



<p>So, what are our options besides <code>overflow</code> and <code>clip-path</code>? Well, let’s just use <code>&lt;clipPath&gt;</code> in the SVG itself. <code>&lt;clipPath&gt;</code> is an SVG property, which is different than the newly-released and non-responsive <code>clip-path: path</code>.</p>



<h3 id="h-svg-clippath-element">SVG <code>&lt;clipPath&gt;</code> element</h3>



<p>SVG <code>&lt;clipPath&gt;</code> and <code>&lt;path&gt;</code> elements adapt to the coordinate system of the SVG element, so they are responsive out of the box. As the SVG element is being scaled, its coordinate system is also being scaled, and it maintains its proportions based on the <a href="https://css-tricks.com/scale-svg/">various properties</a> that cover a wide range of possible use cases. As an added benefit, using <code>clip-path</code> in CSS on SVG has <a href="https://caniuse.com/mdn-css_properties_clip-path_svg">95% browser support</a>, which is a 13% increase compared to <code>clip-path: path</code>.</p>



<p>Let’s start by setting up our SVG element. I’ve used <a href="https://inkscape.org/">Inkscape</a> to create the basic SVG markup and clipping paths, just to make it easy for myself. Once I did that, I updated the markup by adding my own class attributes.</p>



<pre rel="SVG" class="wp-block-csstricks-code-block language-svg" data-line=""><code markup="tt">&lt;svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -10 100 120" class="image">
  &lt;defs>
    &lt;clipPath id="maskImage" clipPathUnits="userSpaceOnUse">
      &lt;path d="..." />
    &lt;/clipPath>
    &lt;clipPath id="maskBackground" clipPathUnits="userSpaceOnUse">
      &lt;path d="..." />
    &lt;/clipPath>
  &lt;/defs>
  &lt;g clip-path="url(#maskImage)" transform="translate(0 -7)">
    &lt;!-- Background image -->
    &lt;image clip-path="url(#maskBackground)" width="120" height="120" x="70" y="38" href="..." transform="translate(-90 -31)" />
    &lt;!-- Foreground image -->
    &lt;image width="120" height="144" x="-15" y="0" fill="none" class="image__foreground" href="..." />
  &lt;/g>
&lt;/svg></code></pre>



<figure class="wp-block-image size-full ticss-665e3d14"><img loading="lazy" width="1234" height="616" src="https://css-tricks.com/wp-content/uploads/2021/03/s_CFA1D4954B8B8D19CEF5C55799156BE41D20BDFE3C39C18C91091815F3D70562_1615729479288_Screenshot2021-03-14at14.44.33.png" alt="A bright green circle with a bright red shape coming out from the top of it, as if another shape is behind the green circle." class="wp-image-337314" srcset="https://css-tricks.com/wp-content/uploads/2021/03/s_CFA1D4954B8B8D19CEF5C55799156BE41D20BDFE3C39C18C91091815F3D70562_1615729479288_Screenshot2021-03-14at14.44.33.png 1234w, https://css-tricks.com/wp-content/uploads/2021/03/s_CFA1D4954B8B8D19CEF5C55799156BE41D20BDFE3C39C18C91091815F3D70562_1615729479288_Screenshot2021-03-14at14.44.33-300x150.png 300w, https://css-tricks.com/wp-content/uploads/2021/03/s_CFA1D4954B8B8D19CEF5C55799156BE41D20BDFE3C39C18C91091815F3D70562_1615729479288_Screenshot2021-03-14at14.44.33-1024x511.png 1024w, https://css-tricks.com/wp-content/uploads/2021/03/s_CFA1D4954B8B8D19CEF5C55799156BE41D20BDFE3C39C18C91091815F3D70562_1615729479288_Screenshot2021-03-14at14.44.33-768x383.png 768w, https://css-tricks.com/wp-content/uploads/2021/03/s_CFA1D4954B8B8D19CEF5C55799156BE41D20BDFE3C39C18C91091815F3D70562_1615729479288_Screenshot2021-03-14at14.44.33-1000x499.png 1000w" sizes="(min-width: 735px) 864px, 96vw" /><figcaption>SVG <code>&lt;clipPath&gt;</code> elements created in Inkscape. The green element represents a clipping path that will be applied to the background image. The red is a clipping path that will be applied to both the background and foreground image.</figcaption></figure>



<p>This markup can be easily reused for other background and foreground images. We just need to replace the URL in the <code>href</code> attribute inside <code>image</code> elements.</p>



<p>Now we can work on the hover animation in CSS. We can get by with transforms and transitions, making sure the foreground is nicely centered, then scaling and moving things when the hover takes place.</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">.image {
  transform: scale(0.9, 0.9);
  transition: transform 0.2s ease-in;
}

.image__foreground {
  transform-origin: 50% 50%;
  transform: translateY(4px) scale(1, 1);
  transition: transform 0.2s ease-in;
}

.image:hover {
  transform: scale(1, 1);
}

.image:hover .image__foreground {
  transform: translateY(-7px) scale(1.05, 1.05);
}</code></pre>



<p>Here is the result of the above HTML and CSS code. Try resizing the screen and changing the dimensions of the SVG element to see how the effect scales with the screen size.</p>



<div class="wp-block-cp-codepen-gutenberg-embed-block cp_embed_wrapper"><iframe id="cp_embed_XWNKXNY" src="//codepen.io/anon/embed/XWNKXNY?height=450&amp;theme-id=1&amp;slug-hash=XWNKXNY&amp;default-tab=result" height="450" scrolling="no" frameborder="0" allowfullscreen allowpaymentrequest name="CodePen Embed XWNKXNY" title="CodePen Embed XWNKXNY" class="cp_embed_iframe" style="width:100%;overflow:hidden">CodePen Embed Fallback</iframe></div>



<p>This looks great! However, we’re not done. We still need to address some issues that we get now that we’ve changed the markup from an HTML image element to an SVG element.</p>



<h3 id="h-seo-and-accessibility">SEO and accessibility</h3>



<p>Inline SVG elements <a href="https://vecta.io/blog/best-practices-for-svg-seo-in-google-image">won’t get indexed</a> by search crawlers. If the SVG elements are an important part of the content, your page SEO might take a hit because those images probably won’t get picked up.</p>



<p>We’ll need additional markup that uses a regular <code>&lt;img&gt;</code> element that’s hidden with CSS. Images declared this way are automatically picked up by crawlers and we can provide links to those images in an <a href="https://developers.google.com/search/docs/advanced/sitemaps/image-sitemaps">image sitemap</a> to make sure that the crawlers manage to find them. We’re using <code>loading="lazy"</code> which allows the browser to decide if loading the image should be deferred.</p>



<p>We’ll wrap both elements in a <code>&lt;figure&gt;</code> element so that we <a href="https://www.w3.org/WAI/tutorials/images/groups/">markup reflects the relationship</a> between those two images and groups them together:</p>



<pre rel="HTML" class="wp-block-csstricks-code-block language-markup" data-line=""><code markup="tt">&lt;figure>
  &lt;!-- SVG element -->
  &lt;svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -10 100 120" class="image">
     &lt;!-- ... -->
  &lt;/svg>
  &lt;!-- Fallback image -->
  &lt;img src="..." alt="..." loading="lazy" class="fallback-image" />
&lt;/figure></code></pre>



<p>We also need to address some accessibility concerns for this effect. More specifically, we need to make improvements for users who prefer browsing the web without animations and users who browse the web using screen readers.</p>



<p>Making SVG elements accessible takes a <a href="https://css-tricks.com/accessible-svgs/#2-lets-make-it-accessible">lot of additional markup</a>. Additionally, if we want to remove transitions, we would have to override quite a few CSS properties which can cause issues if our selector specificities aren’t consistent. Luckily, our newly added regular image has great accessibility features baked right in and can easily serve as a replacement for users who browse the web without animations.</p>



<pre rel="HTML" class="wp-block-csstricks-code-block language-markup" data-line=""><code markup="tt">&lt;figure>
  &lt;!-- Animated SVG element -->
  &lt;svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -10 100 120" class="image" aria-hidden="true">
    &lt;!-- ... -->
  &lt;/svg>

  &lt;!-- Fallback SEO &amp; a11y image -->
  &lt;img src="..." alt="..." loading="lazy" class="fallback-image" />
&lt;/figure></code></pre>



<p>We need to hide the SVG element from assistive devices, by adding <code>aria-hidden="true"</code>, and we need to update our CSS to include the <code>prefers-reduced-motion</code> media query. We are <a href="https://css-tricks.com/inclusively-hidden/">inclusively hiding</a> the fallback image for users without the reduced motion preference meanwhile keeping it available for assistive devices like screen readers.</p>



<pre rel="CSS" class="wp-block-csstricks-code-block language-css" data-line=""><code markup="tt">@media (prefers-reduced-motion: no-preference) {
.fallback-image {
  clip: rect(0 0 0 0); 
  clip-path: inset(50%);
  height: 1px;
  overflow: hidden;
  position: absolute;
  white-space: nowrap; 
  width: 1px;
  } 
}

@media (prefers-reduced-motion) {
  .image {
    display: none;
  }
}</code></pre>



<p>Here is the result after the improvements:</p>



<div class="wp-block-cp-codepen-gutenberg-embed-block cp_embed_wrapper"><iframe id="cp_embed_RwoddjV" src="//codepen.io/anon/embed/RwoddjV?height=450&amp;theme-id=1&amp;slug-hash=RwoddjV&amp;default-tab=result" height="450" scrolling="no" frameborder="0" allowfullscreen allowpaymentrequest name="CodePen Embed RwoddjV" title="CodePen Embed RwoddjV" class="cp_embed_iframe" style="width:100%;overflow:hidden">CodePen Embed Fallback</iframe></div>



<p>Please note that these improvements won’t change how the effect looks and behaves for users who don’t have the <code>prefers-reduced-motion</code> preference set or who aren’t using screen readers.</p>



<h3 id="h-that-s-a-wrap">That’s a wrap</h3>



<p>Developers were excited about <code>path</code> option for <code>clip-path</code> CSS attribute and new styling possibilities, but many were displeased to find out that these values only support pixel values. Not only does that mean the feature is not responsive, but it severely limits the number of use cases where we’d want to use it.</p>



<p>We converted an interesting image pop-out hover effect that uses <code>clip-path: path</code> into an SVG element that utilizes the responsiveness of the <code>&lt;clipPath&gt;</code> SVG element to achieve the same thing. But in doing so, we introduced some SEO and accessibility issues, that we managed to work around with a bit of extra markup and a fallback image.</p>



<p>Thank you for taking the time to read this article! Let me know if this approach gave you an idea on how to implement your own effects and if you have any suggestions on how to approach this effect in a different way.</p>
<hr />
<p>The post <a rel="nofollow" href="https://css-tricks.com/lets-create-an-image-pop-out-effect-with-svg-clip-path/">Let’s Create an Image Pop-Out Effect With SVG Clip Path</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
<p>You can support CSS-Tricks by being an <a href="https://css-tricks.com/product/mvp-supporter/">MVP Supporter</a>.</p>
";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:36:"http://wellformedweb.org/CommentAPI/";a:1:{s:10:"commentRss";a:1:{i:0;a:5:{s:4:"data";s:83:"https://css-tricks.com/lets-create-an-image-pop-out-effect-with-svg-clip-path/feed/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:38:"http://purl.org/rss/1.0/modules/slash/";a:1:{s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:1:"6";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:30:"com-wordpress:feed-additions:1";a:1:{s:7:"post-id";a:1:{i:0;a:5:{s:4:"data";s:6:"337308";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:11;a:6:{s:4:"data";s:76:"
		
		
					
		
		
		
				
		
		

					
										
					
					
			
		
		
			";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:6:{s:0:"";a:7:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:22:"Click Outside Detector";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:46:"https://css-tricks.com/click-outside-detector/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:55:"https://css-tricks.com/click-outside-detector/#comments";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Fri, 02 Apr 2021 14:49:26 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:2:{i:0;a:5:{s:4:"data";s:7:"Article";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:14:"clickable area";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:32:"https://css-tricks.com/?p=337466";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:649:"<p>It&#8217;s a reasonable UX thing that you can click-to-open something, and then not only be able to click that same thing to close it, but click <em>outside</em> the thing that it opened to close it. Kitty Giraudel just <a href="https://kittygiraudel.com/2021/03/18/close-on-outside-click/">blogged about </a>&#8230;</p>
<hr />
<p>The post <a rel="nofollow" href="https://css-tricks.com/click-outside-detector/">Click Outside Detector</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
<p>You can support CSS-Tricks by being an <a href="https://css-tricks.com/product/mvp-supporter/">MVP Supporter</a>.</p>
";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:12:"Chris Coyier";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:4181:"
<p>It&#8217;s a reasonable UX thing that you can click-to-open something, and then not only be able to click that same thing to close it, but click <em>outside</em> the thing that it opened to close it. Kitty Giraudel just <a href="https://kittygiraudel.com/2021/03/18/close-on-outside-click/">blogged about that</a>. The trick is that once the thing is opened, you attach an event handler to the <code>window</code> with that watches for events (like another click). If that subsequent click did not happen within the newly-opened area, close it. Like, literally <code>thing.contains(event.target)</code>. It&#8217;s a nice trick, I think.</p>



<span id="more-337466"></span>



<p>There are lots of little things to think about though. For example: </p>



<blockquote class="wp-block-quote is-style-default"><p>we have to stop the propagationg of the click event on the toggle itself. Otherwise, it goes up to the window click listener, and since the toggle is not contained within the menu, it would close the latter as soon as we try to open it.</p></blockquote>



<p>Right right. Can&#8217;t have that or it breaks the whole thing. </p>



<p>We have this same pattern in a lot of places on CodePen. Like Kitty, we have it implemented in React. In taking a peek at our implementation, it&#8217;s got a number of bells-and-whistles I figured were worth mentioning. For example, ours isn&#8217;t a function or hook, but a component wrapper we use like:</p>



<pre rel="JSX" class="wp-block-csstricks-code-block language-jsx" data-line=""><code markup="tt">&lt;ClickOutsideDetector 
  listen 
  onClickOutside={() => { closeTheThing(); }}
>
  A Menu or Modal or something.
&lt;/ClickOutsideDetector></code></pre>



<p>That way it is a generic wrapper that we can use for anything on a &#8220;click outside&#8221;. The bells-and-whistles being:</p>



<ul><li>You can pass in <code>component</code> prop so that it doesn&#8217;t have to manifest as a <code>&lt;div&gt;</code> but whatever you want it to be semantically.</li><li>The <code>listen</code> prop allows you to toggle if it is currently actively listening to events. Like a quick way to short-circuit it.</li><li>An ESC keypress is the functional equivalent to clicking outside. </li><li>Handles touch events as well as clicks</li><li>Handles a case where the click outside happens into an <code>&lt;iframe&gt;</code> in which case the <code>window</code> has a <code>blur</code> event rather than a click.</li><li>Allows you to pass in elements to ignore, so rather than the <code>stopPropagation</code> trick that Kitty documented, we can be specific about elements that don&#8217;t trigger a click outside.</li></ul>



<p>So many little things! To me this is the kinda perfect little example of real-world development. You just want one little behavior and ultimately there are a ton of considerations and edge cases you have to deal with and it&#8217;s never really done. I just touched our component in the last few months because of a third-party tool we used changed how they did something which affected iframes in use on the page. Ultimately I had to watch for a <code>blur</code> event that then check the <code>classList</code> of <code>document.activeElement</code> to see if that was the thing eating the click outside!</p>



<p>Annnnyway, I tossed up a <a href="https://codepen.io/chriscoyier/project/editor/AxPzxn">only-slightly-dumbed-down version of ours here</a>. </p>



<p>And I saw something from Kitty&#8217;s post that we weren&#8217;t handling, and it&#8217;s in the very first sentence:</p>



<blockquote class="wp-block-quote is-style-default"><p>we needed a way to close the menu when clicking outside of it <strong>or tabbing out of it.</strong></p></blockquote>



<p>Emphasis mine. Don&#8217;t worry, I&#8217;ve got a TODO in our code for that now. </p>
<hr />
<p>The post <a rel="nofollow" href="https://css-tricks.com/click-outside-detector/">Click Outside Detector</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
<p>You can support CSS-Tricks by being an <a href="https://css-tricks.com/product/mvp-supporter/">MVP Supporter</a>.</p>
";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:36:"http://wellformedweb.org/CommentAPI/";a:1:{s:10:"commentRss";a:1:{i:0;a:5:{s:4:"data";s:51:"https://css-tricks.com/click-outside-detector/feed/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:38:"http://purl.org/rss/1.0/modules/slash/";a:1:{s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:1:"5";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:30:"com-wordpress:feed-additions:1";a:1:{s:7:"post-id";a:1:{i:0;a:5:{s:4:"data";s:6:"337466";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:12;a:6:{s:4:"data";s:79:"
		
		
					
		
		
		
				
		
		
		

					
										
					
					
			
		
		
			";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:6:{s:0:"";a:7:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:39:"WordPress Caching: All You Need To Know";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:60:"https://spinupwp.com/wordpress-caching-all-you-need-to-know/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:70:"https://css-tricks.com/wordpress-caching-all-you-need-to-know/#respond";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Thu, 01 Apr 2021 21:21:03 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:3:{i:0;a:5:{s:4:"data";s:4:"Link";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:5:"cache";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:2;a:5:{s:4:"data";s:9:"WordPress";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:32:"https://css-tricks.com/?p=337113";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:684:"<p><a href="https://spinupwp.com/wordpress-caching-all-you-need-to-know/">Here&#8217;s</a> Ashley Rich at Delicious Brains writing about all the layers of caching that are relevant to a WordPress site. I think we all know that caching is complicated, but jeez, it&#8217;s a journey to understand all the caches at &#8230;</p>
<hr />
<p>The post <a rel="nofollow" href="https://css-tricks.com/wordpress-caching-all-you-need-to-know/">WordPress Caching: All You Need To Know</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
<p>You can support CSS-Tricks by being an <a href="https://css-tricks.com/product/mvp-supporter/">MVP Supporter</a>.</p>
";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:12:"Chris Coyier";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:4202:"
<p><a href="https://spinupwp.com/wordpress-caching-all-you-need-to-know/">Here&#8217;s</a> Ashley Rich at Delicious Brains writing about all the layers of caching that are relevant to a WordPress site. I think we all know that caching is complicated, but jeez, it&#8217;s a journey to understand all the caches at work here. The point of cache being speed and reducing burden on the worst bottlenecks and slowest/busiest parts of a web stack.  </p>



<span id="more-337113"></span>



<p>Here&#8217;s my own understanding:</p>



<ul><li><strong>Files can be cached by the browser.</strong> This is the fastest possible cache as no network request happens at all. Assets like images, CSS, and JavaScript are often cached this way because they don&#8217;t change terribly frequently, but you have to make sure you&#8217;re telling browsers that it&#8217;s OK to do this and have a mechanism in place to break that cache if you need to (e.g. by changing file names). You very rarely cache the HTML this way, as it changes the most and file-name-cache-busting of HTML seems more tricky than it&#8217;s worth.</li><li><strong>Files can be cached at the CDN level.</strong> This is great because even though network traffic is happening, CDN servers are very fast and likely geographically closer to users than your origin server. If users get files from here, they never even trouble your origin server. You&#8217;ll need a way to break this cache as well, which again is probably through changing file names. You <em>might</em> cache HTML at this level even without changing file names if you have a mechanism to clear that cache globally when content changes.</li><li><strong>The origin server might cache built HTML pages.</strong> On a WordPress site, the pages are built with PHP which probably triggers MySQL queries. If the server can save the result of the things that have already executed, that means it can serve a &#8220;static&#8221; file as a response, which it can do much faster than having to run the PHP and MySQL. That&#8217;ll work for logged out users, who all get the same response, but not for logged in users who have dynamic content on the page (like the WordPress admin bar).</li><li><strong>The database has its own special caching</strong>. After a MySQL query is executed, the results can be saved in an Object Cache, meaning the same request can come from that cache instead of having to run the query again. You get that automatically to some degree, but ideally it gets wired up to a more persistent store, which you do not get automatically </li></ul>



<p>Phew. It gets a little easier with Jamstack since your pages are prebuilt and CDN-hosted already, and in the case of Netlify, you <a href="https://css-tricks.com/netlify-does-cache-invalidation-for-you/">don&#8217;t even have to worry</a> about cache busting. </p>



<p>But even as complex as this is, I don&#8217;t worry about it all that much. This WordPress site uses <a href="https://share.getf.ly/k96n2f">Flywheel</a> for hosting which deals with the database and server-level caching, I have <a href="https://www.cloudflare.com/">Cloudflare</a> in front of it with <a href="https://blog.cloudflare.com/automatic-platform-optimizations-starting-with-wordpress/">special WordPress optimization</a> for the CDN caching, and <a href="https://css-tricks.com/just-sharing-my-gulpfile/">roll-my-own file-name cache busting</a> (I wish this part was easier). I&#8217;d certainly trust <a href="https://spinupwp.com/">SpinupWP</a> to get it right too, given Ashley&#8217;s great writeup I&#8217;m linking to here.</p>
<p><a href="https://spinupwp.com/wordpress-caching-all-you-need-to-know/" title="Direct link to featured article">Direct Link to Article</a> &#8212; <a href="https://css-tricks.com/wordpress-caching-all-you-need-to-know/">Permalink</a></p><hr />
<p>The post <a rel="nofollow" href="https://css-tricks.com/wordpress-caching-all-you-need-to-know/">WordPress Caching: All You Need To Know</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
<p>You can support CSS-Tricks by being an <a href="https://css-tricks.com/product/mvp-supporter/">MVP Supporter</a>.</p>
";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:36:"http://wellformedweb.org/CommentAPI/";a:1:{s:10:"commentRss";a:1:{i:0;a:5:{s:4:"data";s:67:"https://css-tricks.com/wordpress-caching-all-you-need-to-know/feed/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:38:"http://purl.org/rss/1.0/modules/slash/";a:1:{s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:1:"0";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:30:"com-wordpress:feed-additions:1";a:1:{s:7:"post-id";a:1:{i:0;a:5:{s:4:"data";s:6:"337113";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:13;a:6:{s:4:"data";s:73:"
		
		
					
		
		
		
				
		

					
										
					
					
			
		
		
			";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:6:{s:0:"";a:7:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:41:"React Authentication &amp; Access Control";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:59:"https://css-tricks.com/react-authentication-access-control/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:67:"https://css-tricks.com/react-authentication-access-control/#respond";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Thu, 01 Apr 2021 21:20:49 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:1:{i:0;a:5:{s:4:"data";s:9:"Sponsored";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:32:"https://css-tricks.com/?p=337319";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:634:"<p>Authentication and access control are required for most applications, but they often distract us from building core features. In this article, I’ll cover a straightforward way to add auth and access control in React.</p>
<p>Instead of adding a static library &#8230;</p>
<hr />
<p>The post <a rel="nofollow" href="https://css-tricks.com/react-authentication-access-control/">React Authentication &#038; Access Control</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
<p>You can support CSS-Tricks by being an <a href="https://css-tricks.com/product/mvp-supporter/">MVP Supporter</a>.</p>
";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:13:"Tyler Warnock";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:25364:"
<p>Authentication and access control are required for most applications, but they often distract us from building core features. In this article, I’ll cover a straightforward way to add auth and access control in React.</p>



<p>Instead of adding a static library that you have to keep up to date or re-research each time you build a project, we’ll use a service that stays up to date automatically and is a much simpler alternative to Auth0, Okta, and others.</p>



<span id="more-337319"></span>



<h3 id="h-react-authentication">React authentication</h3>



<p>There are two main things your React application needs to do to sign on a user:</p>



<ol><li>Get an access token from an authentication server</li><li>Send the access token to your backend server with each subsequent request</li></ol>



<p>These steps are the same for pretty much all authentication, whether that’s standard email and password, magic links, or single sign on (SSO) providers like Google, Azure, or Facebook.</p>



<p>Ultimately, we want our React app to send an initial request to an authentication server and have that server generate an access token we can use.</p>



<h3 id="h-jwt-access-tokens">JWT access tokens</h3>



<p>There are different choices for what type of access token to use, and JSON Web Tokens (JWTs) are a great option. JWTs are compact, URL-safe tokens that your React application can use for authentication and access control.</p>



<p>Each JWT has a JSON object as its “payload” and is signed such that your backend server can verify that the payload is authentic. An example JWT looks like:</p>



<pre rel="JSON" class="wp-block-csstricks-code-block language-javascript" data-line=""><code markup="tt">eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsImF1dGhvcml6YXRpb24iOiJhZG1pbiJ9.f7iKN-xi24qrQ5NQtOe0jiriotT-rve3ru6sskbQXnA
</code></pre>



<p>The payload for this JWT is the middle section (separated by periods):</p>



<pre rel="JSON" class="wp-block-csstricks-code-block language-javascript" data-line=""><code markup="tt">eyJ1c2VySWQiOjEsImF1dGhvcml6YXRpb24iOiJhZG1pbiJ9</code></pre>



<p>The JWT payload can be decoded from base64 to yield the JSON object:</p>



<pre rel="Terminal" class="wp-block-csstricks-code-block language-javascript" data-line=""><code markup="tt">JSON.parse(atob("eyJ1c2VySWQiOjEsImF1dGhvcml6YXRpb24iOiJhZG1pbiJ9"));

// =>
{
  “userId”: 1,
  “authorization”: “admin”
}</code></pre>



<p>It’s important to note that this payload is readable by anyone with the JWT, including your React application or a third party. Anyone that has the JWT can read its contents.</p>



<p>However, only the authentication server can generate valid JWTs. Your React application, your backend server, or a malicious third party cannot generate valid JWTs, only read and verify them.</p>



<p>When your backend server receives a request with a JWT, it should verify the JWT as authentic by checking it against the public key for that JWT. This allows your application server to verify incoming JWTs and reject any tokens that were not created by the authentication server (or that have expired).</p>



<p>The flow for using a JWT in your React application looks like this:</p>



<ol><li>Your React app requests a JWT from the authentication server whenever the user wants to sign on.</li><li>The authentication server generates a JWT using a private key and then sends the JWT back to your React app.</li><li>Your React app stores this JWT and sends it to your backend server whenever your user needs to make a request.</li><li>Your backend server verifies the JWT using a public key and then reads the payload to determine which user is making the request.</li></ol>



<p>Each of these steps is simple to write down, but each step has its own pitfalls when you actually want to implement it and keep it secure. Especially over time, as new threat vectors emerge and new platforms need to be patched or supported, the security overhead can add up quickly.</p>



<h3 id="h-userfront-removes-auth-complexity-in-react-apps">Userfront removes auth complexity in React apps</h3>



<p>Userfront is a framework that abstracts away auth complexity. This makes it much easier for you to work with authentication in a React application and, perhaps most importantly, it keeps all the auth protocols updated for you automatically over time.</p>



<p>The underlying philosophy with Userfront is that world-class auth should not take effort – it should be easy to set up, and security updates should happen for you automatically. Userfront has all the bells and whistles of authentication, Single Sign On (SSO), access control, and multi-tenancy, with a production-ready free tier up to 10,000 monthly active users.</p>



<p>For most modern React applications, it’s a great solution.</p>



<h4 id="h-setting-up-authentication-in-react">Setting up authentication in React</h4>



<p>Now we’ll go through building all the main aspects of authentication in a React application. The final code for this example is available <a href="https://github.com/tyrw/css-tricks-react-auth">here</a>.</p>



<p>Set up your React application and get your build pipeline in order however you prefer. In this tutorial, we’ll use <a href="https://reactjs.org/docs/create-a-new-react-app.html">Create React App</a>, which does a lot of the setup work for us, and we’ll also add <a href="https://reactrouter.com/web/guides/quick-start">React Router</a> for client-side routing. Start by installing Create React App and React Router:</p>



<pre rel="HTML" class="wp-block-csstricks-code-block language-markup" data-line=""><code markup="tt">npx create-react-app my-app
cd my-app
npm install react-router-dom --save
npm start</code></pre>



<p>Now our React application is available at <code>http://localhost:3000</code>.</p>



<figure class="wp-block-image size-full"><img loading="lazy" width="600" height="482" src="https://css-tricks.com/wp-content/uploads/2021/03/create-react-app.gif" alt="" class="wp-image-337320"/></figure>



<p>Like the page says, we can now edit the <code>src/App.js</code> file to start working.</p>



<p>Replace the contents of <code>src/App.js</code> with the following, based on the React Router quickstart:</p>



<pre rel="JavaScript" class="wp-block-csstricks-code-block language-javascript" data-line=""><code markup="tt">// src/App.js

import React from "react";
import { BrowserRouter as Router, Switch, Route, Link } from "react-router-dom";

export default function App() {
  return (
    &lt;Router>
      &lt;div>
        &lt;nav>
          &lt;ul>
            &lt;li>
              &lt;Link to="/">Home&lt;/Link>
            &lt;/li>
            &lt;li>
              &lt;Link to="/login">Login&lt;/Link>
            &lt;/li>
            &lt;li>
              &lt;Link to="/reset">Reset&lt;/Link>
            &lt;/li>
            &lt;li>
              &lt;Link to="/dashboard">Dashboard&lt;/Link>
            &lt;/li>
          &lt;/ul>
        &lt;/nav>

        &lt;Switch>
          &lt;Route path="/login">
            &lt;Login />
          &lt;/Route>
          &lt;Route path="/reset">
            &lt;PasswordReset />
          &lt;/Route>
          &lt;Route path="/dashboard">
            &lt;Dashboard />
          &lt;/Route>
          &lt;Route path="/">
            &lt;Home />
          &lt;/Route>
        &lt;/Switch>
      &lt;/div>
    &lt;/Router>
  );
}

function Home() {
  return &lt;h2>Home&lt;/h2>;
}

function Login() {
  return &lt;h2>Login&lt;/h2>;
}

function PasswordReset() {
  return &lt;h2>Password Reset&lt;/h2>;
}

function Dashboard() {
  return &lt;h2>Dashboard&lt;/h2>;
}</code></pre>



<p>Now we have ourselves a very simple app with routing:</p>



<figure class="wp-block-table"><table class="has-fixed-layout"><thead><tr><th>Route</th><th>Description</th></tr></thead><tbody><tr><td><code>/</code></td><td>Home page</td></tr><tr><td><code>/login</code></td><td>Login page</td></tr><tr><td><code>/reset</code></td><td>Password reset page</td></tr><tr><td><code>/dashboard</code></td><td>User dashboard, for logged in users only</td></tr></tbody></table></figure>



<figure class="wp-block-image size-full ticss-3496fe40"><img loading="lazy" width="496" height="370" src="https://css-tricks.com/wp-content/uploads/2021/03/react-router-basic.gif" alt="" class="wp-image-337321"/></figure>



<p>This is all the structure we need to start adding authentication.</p>



<h4 id="h-signup-login-and-password-reset-with-userfront">Signup, login, and password reset with Userfront</h4>



<p>Go ahead and <a href="https://srv.buysellads.com/ads/long/x/TCIQ4YITTTTTTT4CPQLCTTTTTTTZ4GSHKTTTTTTTBTXN6YTTTTTTTBPLC2S647ZJC2R6K7PDVRAFKOLIQ73DPA3W5EBT">create a Userfront account</a>. This will give you a signup form, login form, and password reset form you can use for the next steps.</p>



<p>In the Toolkit section of your Userfront dashboard, you can find the instructions for installing your signup form:</p>



<figure class="wp-block-image size-full ticss-63e2c05f"><img loading="lazy" width="841" height="575" src="https://css-tricks.com/wp-content/uploads/2021/03/instructions-react.png" alt="" class="wp-image-337322" srcset="https://css-tricks.com/wp-content/uploads/2021/03/instructions-react.png 841w, https://css-tricks.com/wp-content/uploads/2021/03/instructions-react-300x205.png 300w, https://css-tricks.com/wp-content/uploads/2021/03/instructions-react-768x525.png 768w" sizes="(min-width: 735px) 864px, 96vw" /></figure>



<p>Follow the instructions by installing the Userfront React package with:</p>



<pre rel="Terminal" class="wp-block-csstricks-code-block language-none" data-line=""><code markup="tt">npm install @userfront/react --save
npm start</code></pre>



<p>Add the signup form to your home page by importing and initializing Userfront, and then updating the <code>Home()</code> function to render the signup form.</p>



<pre rel="JavaScript" class="wp-block-csstricks-code-block language-javascript" data-line=""><code markup="tt">// src/App.js

import React from "react";
import { BrowserRouter as Router, Switch, Route, Link } from "react-router-dom";
import Userfront from "@userfront/react";

Userfront.init("demo1234");

const SignupForm = Userfront.build({
  toolId: "nkmbbm",
});

export default function App() {
  return (
    &lt;Router>
      &lt;div>
        &lt;nav>
          &lt;ul>
            &lt;li>
              &lt;Link to="/">Home&lt;/Link>
            &lt;/li>
            &lt;li>
              &lt;Link to="/login">Login&lt;/Link>
            &lt;/li>
            &lt;li>
              &lt;Link to="/reset">Reset&lt;/Link>
            &lt;/li>
            &lt;li>
              &lt;Link to="/dashboard">Dashboard&lt;/Link>
            &lt;/li>
          &lt;/ul>
        &lt;/nav>

        &lt;Switch>
          &lt;Route path="/login">
            &lt;Login />
          &lt;/Route>
          &lt;Route path="/reset">
            &lt;PasswordReset />
          &lt;/Route>
          &lt;Route path="/dashboard">
            &lt;Dashboard />
          &lt;/Route>
          &lt;Route path="/">
            &lt;Home />
          &lt;/Route>
        &lt;/Switch>
      &lt;/div>
    &lt;/Router>
  );
}

function Home() {
  return (
    &lt;div>
      &lt;h2>Home&lt;/h2>
      &lt;SignupForm />
    &lt;/div>
  );
}

function Login() {
  return &lt;h2>Login&lt;/h2>;
}

function PasswordReset() {
  return &lt;h2>Password Reset&lt;/h2>;
}

function Dashboard() {
  return &lt;h2>Dashboard&lt;/h2>;
}</code></pre>



<p>Now the home page has your signup form. Try signing up a user:</p>



<figure class="wp-block-image size-full ticss-09ae3e84"><img loading="lazy" width="498" height="699" src="https://css-tricks.com/wp-content/uploads/2021/03/react-router-signup.png" alt="" class="wp-image-337323" srcset="https://css-tricks.com/wp-content/uploads/2021/03/react-router-signup.png 498w, https://css-tricks.com/wp-content/uploads/2021/03/react-router-signup-214x300.png 214w" sizes="(min-width: 735px) 864px, 96vw" /></figure>



<p>Your signup form is in “Test mode” by default, which will create user records in a test environment you can view separately in your <a href="https://srv.buysellads.com/ads/long/x/TCIQ4YITTTTTTT4CPQLCTTTTTTTZ4GSHKTTTTTTTBTXN6YTTTTTTTBPLC2S647ZJC2R6K7PDVRAFKOLIQ73DPA3W5EBT">Userfront dashboard</a>:</p>



<figure class="wp-block-image size-full"><img loading="lazy" width="1059" height="529" src="https://css-tricks.com/wp-content/uploads/2021/03/create-react-app-2.png" alt="" class="wp-image-337324" srcset="https://css-tricks.com/wp-content/uploads/2021/03/create-react-app-2.png 1059w, https://css-tricks.com/wp-content/uploads/2021/03/create-react-app-2-300x150.png 300w, https://css-tricks.com/wp-content/uploads/2021/03/create-react-app-2-1024x512.png 1024w, https://css-tricks.com/wp-content/uploads/2021/03/create-react-app-2-768x384.png 768w, https://css-tricks.com/wp-content/uploads/2021/03/create-react-app-2-1000x500.png 1000w" sizes="(min-width: 735px) 864px, 96vw" /></figure>



<p>Continue by adding your login and password reset forms in the same way that you added your signup form:</p>



<pre rel="JavaScript" class="wp-block-csstricks-code-block language-javascript" data-line=""><code markup="tt">// src/App.js

import React from "react";
import { BrowserRouter as Router, Switch, Route, Link } from "react-router-dom";
import Userfront from "@userfront/react";

Userfront.init("demo1234");

const SignupForm = Userfront.build({
  toolId: "nkmbbm",
});
const LoginForm = Userfront.build({
  toolId: "alnkkd",
});
const PasswordResetForm = Userfront.build({
  toolId: "dkbmmo",
});

export default function App() {
  return (
    &lt;Router>
      &lt;div>
        &lt;nav>
          &lt;ul>
            &lt;li>
              &lt;Link to="/">Home&lt;/Link>
            &lt;/li>
            &lt;li>
              &lt;Link to="/login">Login&lt;/Link>
            &lt;/li>
            &lt;li>
              &lt;Link to="/reset">Reset&lt;/Link>
            &lt;/li>
            &lt;li>
              &lt;Link to="/dashboard">Dashboard&lt;/Link>
            &lt;/li>
          &lt;/ul>
        &lt;/nav>

        &lt;Switch>
          &lt;Route path="/login">
            &lt;Login />
          &lt;/Route>
          &lt;Route path="/reset">
            &lt;PasswordReset />
          &lt;/Route>
          &lt;Route path="/dashboard">
            &lt;Dashboard />
          &lt;/Route>
          &lt;Route path="/">
            &lt;Home />
          &lt;/Route>
        &lt;/Switch>
      &lt;/div>
    &lt;/Router>
  );
}

function Home() {
  return (
    &lt;div>
      &lt;h2>Home&lt;/h2>
      &lt;SignupForm />
    &lt;/div>
  );
}

function Login() {
  return (
    &lt;div>
      &lt;h2>Login&lt;/h2>
      &lt;LoginForm />
    &lt;/div>
  );
}

function PasswordReset() {
  return (
    &lt;div>
      &lt;h2>Password Reset&lt;/h2>
      &lt;PasswordResetForm />
    &lt;/div>
  );
}

function Dashboard() {
  return &lt;h2>Dashboard&lt;/h2>;
}</code></pre>



<p>At this point, your signup, login, and password reset should all be functional.</p>



<p>Your users can sign up, log in, and reset their password.</p>



<figure class="wp-block-image size-full ticss-0ea257e2"><img loading="lazy" width="496" height="694" src="https://css-tricks.com/wp-content/uploads/2021/03/react-router-3.gif" alt="" class="wp-image-337325"/></figure>



<h3 id="h-access-control-in-react">Access control in React</h3>



<p>Usually, we don’t want users to be able to view the dashboard unless they are logged in. This is known as a protected route.</p>



<p>Whenever a user is not logged in but tries to visit <code>/dashboard</code>, we can redirect them to the login screen.</p>



<p>We can accomplish this by updating the <code>Dashboard</code> component in <code>src/App.js</code> to handle the conditional logic.</p>



<p>When a user is logged in with Userfront, they will have an access token available as <code>Userfront.accessToken()</code>. We can check for this token to determine if the user is logged in. If the user is logged in, we can show the dashboard page, and if the user is not logged in, we can redirect to the login page.</p>



<p>Add the <code>Redirect</code> component to the <code>import</code> statement for React Router, and then update the <code>Dashboard</code> component to redirect if no access token is present.</p>



<pre rel="JavaScript" class="wp-block-csstricks-code-block language-javascript" data-line=""><code markup="tt">// src/App.js

import React from "react";
import {
  BrowserRouter as Router,
  Switch,
  Route,
  Link,
  Redirect, // Be sure to add this import
} from "react-router-dom";

// ...

function Dashboard() {
  function renderFn({ location }) {
    // If the user is not logged in, redirect to login
    if (!Userfront.accessToken()) {
      return (
        &lt;Redirect
          to={{
            pathname: "/login",
            state: { from: location },
          }}
        />
      );
    }

    // If the user is logged in, show the dashboard
    const userData = JSON.stringify(Userfront.user, null, 2);
    return (
      &lt;div>
        &lt;h2>Dashboard&lt;/h2>
        &lt;pre>{userData}&lt;/pre>
        &lt;button onClick={Userfront.logout}>Logout&lt;/button>
      &lt;/div>
    );
  }

  return &lt;Route render={renderFn} />;
}</code></pre>



<p>Notice also that we’ve added a logout button by calling <code>Userfront.logout()</code> directly:</p>



<pre rel="HTML" class="wp-block-csstricks-code-block language-markup" data-line=""><code markup="tt">&lt;button onClick={Userfront.logout}>Logout&lt;/button></code></pre>



<p>Now, when a user is logged in, they can view the dashboard. If the user is not logged in, they will be redirected to the login page.</p>



<figure class="wp-block-image size-full ticss-0ffe0291"><img loading="lazy" width="498" height="520" src="https://css-tricks.com/wp-content/uploads/2021/03/react-router-4.png" alt="" class="wp-image-337326" srcset="https://css-tricks.com/wp-content/uploads/2021/03/react-router-4.png 498w, https://css-tricks.com/wp-content/uploads/2021/03/react-router-4-287x300.png 287w" sizes="(min-width: 735px) 864px, 96vw" /></figure>



<h3 id="h-react-authentication-with-an-api">React authentication with an API</h3>



<p>You’ll probably want to retrieve user-specific information from your backend. In order to protect your API endpoints, your backend server should check that incoming JWTs are valid.</p>



<p>There are many libraries available to read and verify JWTs across various languages; here are a few popular libraries for handling JWTs:</p>



<figure class="wp-block-table"><table class="has-fixed-layout"><tbody><tr><td><a href="https://github.com/auth0/node-jsonwebtoken">Node.js</a></td><td><a href="https://github.com/jwt-dotnet/jwt">.NET</a></td><td><a href="https://github.com/jpadilla/pyjwt/">Python</a></td><td><a href="https://github.com/auth0/java-jwt">Java</a></td></tr></tbody></table></figure>



<h4 id="h-your-access-token">Your access token</h4>



<p>While the user is logged in, their access token is available in your React application as <code>Userfront.accessToken()</code>.</p>



<p>Your React application can send this as a <code>Bearer</code> token inside the <code>Authorization</code> header to your backend server. For example:</p>



<pre rel="JavaScript" class="wp-block-csstricks-code-block language-javascript" data-line=""><code markup="tt">// Example of calling an endpoint with a JWT

import Userfront from "@userfront/react";
Userfront.init("demo1234");

async function getInfo() {
  const res = await window.fetch("/your-endpoint", {
    method: "GET",
    headers: {
      "Content-Type": "application/json",
      Authorization: `Bearer ${Userfront.accessToken()}`,
    },
  });

  console.log(res);
}

getInfo();</code></pre>



<p>To handle a request like this, your backend should read the JWT from the <code>Authorization</code> header and verify that it is valid using the public key found in your Userfront dashboard.</p>



<p>Here is an example of Node.js middleware to read and verify the JWT access token:</p>



<pre rel="JavaScript" class="wp-block-csstricks-code-block language-javascript" data-line=""><code markup="tt">// Node.js example (Express.js)

const jwt = require("jsonwebtoken");

function authenticateToken(req, res, next) {
  // Read the JWT access token from the request header
  const authHeader = req.headers["authorization"];
  const token = authHeader &amp;&amp; authHeader.split(" ")[1];
  if (token == null) return res.sendStatus(401); // Return 401 if no token

  // Verify the token using the Userfront public key
  jwt.verify(token, process.env.USERFRONT_PUBLIC_KEY, (err, auth) => {
    if (err) return res.sendStatus(403); // Return 403 if there is an error verifying
    req.auth = auth;
    next();
  });
}</code></pre>



<p>Using this approach, any invalid or missing tokens would be rejected by your server. You can also reference the contents of the token later in the route handlers using the <code>req.auth</code> object:</p>



<pre rel="JavaScript" class="wp-block-csstricks-code-block language-javascript" data-line=""><code markup="tt">console.log(req.auth);

// =>
{
  mode: 'test',
  tenantId: 'demo1234',
  userId: 5,
  userUuid: 'ab53dbdc-bb1a-4d4d-9edf-683a6ca3f609',
  isConfirmed: false,
  authorization: {
    demo1234: {
      tenantId: 'demo1234',
      name: 'Demo project',
      roles: ["admin"],
      permissions: []
    },
  },
  sessionId: '35d0bf4a-912c-4429-9886-cd65a4844a4f',
  iat: 1614114057,
  exp: 1616706057
}</code></pre>



<p>With this information, you can perform further checks as desired, or use the <code>userId</code> or <code>userUuid</code> to look up user information to return.</p>



<p>For example, if you wanted to limit a route to admin users only, you could check against the <code>authorization</code> object from the verified access token, and reject any tokens that don’t have an <code>admin</code> role:</p>



<pre rel="JavaScript" class="wp-block-csstricks-code-block language-javascript" data-line=""><code markup="tt">// Node.js example (Express.js)

app.get("/users", (req, res) => {
  const authorization = req.auth.authorization["demo1234"] || {};

  if (authorization.roles.includes("admin")) {
    // Allow access
  } else {
    // Deny access
  }
});</code></pre>



<h3 id="h-react-sso-single-sign-on">React SSO (Single Sign On)</h3>



<p>With your Toolkit forms in place, you can add social identity providers like Google, Facebook, and LinkedIn to your React application, or business identity providers like Azure AD, Office365, and more.</p>



<p>You do this by creating an application with the identity provider (e.g. Google), and then adding that application’s credentials to the Userfront dashboard. The result is a modified sign on experience:</p>



<figure class="wp-block-image size-full"><img loading="lazy" width="363" height="525" src="https://css-tricks.com/wp-content/uploads/2021/03/userfront-login.png" alt="" class="wp-image-337328" srcset="https://css-tricks.com/wp-content/uploads/2021/03/userfront-login.png 363w, https://css-tricks.com/wp-content/uploads/2021/03/userfront-login-207x300.png 207w" sizes="(min-width: 735px) 864px, 96vw" /></figure>



<p>No additional code is needed to implement Single Sign On using this approach: you can add and remove providers without updating your forms or the way you handle JWTs.</p>



<h3 id="h-final-notes">Final notes</h3>



<p>React authentication and access control can be complex to do yourself, or it can be simple when using a service.</p>



<p>Both the setup step and, more importantly, the maintenance over time, are handled with modern platforms like <a href="https://srv.buysellads.com/ads/long/x/TCIQ4YITTTTTTT4CPQLCTTTTTTTZ4GSHKTTTTTTTBTXN6YTTTTTTTBPLC2S647ZJC2R6K7PDVRAFKOLIQ73DPA3W5EBT">Userfront</a>.</p>



<p>JSON Web Tokens allow you to cleanly separate your auth token generation layer from the rest of your application, making it easier to reason about and more modular for future needs. This architecture also allows you to focus your efforts on your core application, where you are likely to create much more value for yourself or your clients.</p>



<p>For more details on adding auth to your React application, visit the <a href="https://userfront.com/guide">Userfront guide</a>, which covers everything from setting up your auth forms to API documentation, example repositories, working with different languages and frameworks, and more.</p>



<div class="wp-block-buttons">
<div class="wp-block-button"><a class="wp-block-button__link" href="https://srv.buysellads.com/ads/long/x/TCIQ4YITTTTTTT4CPQLCTTTTTTTZ4GSHKTTTTTTTBTXN6YTTTTTTTBPLC2S647ZJC2R6K7PDVRAFKOLIQ73DPA3W5EBT"><a href="https://userfront.com">Create a free Userfront project</a></a></div>
</div>
<hr />
<p>The post <a rel="nofollow" href="https://css-tricks.com/react-authentication-access-control/">React Authentication &#038; Access Control</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
<p>You can support CSS-Tricks by being an <a href="https://css-tricks.com/product/mvp-supporter/">MVP Supporter</a>.</p>
";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:36:"http://wellformedweb.org/CommentAPI/";a:1:{s:10:"commentRss";a:1:{i:0;a:5:{s:4:"data";s:64:"https://css-tricks.com/react-authentication-access-control/feed/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:38:"http://purl.org/rss/1.0/modules/slash/";a:1:{s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:1:"0";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:30:"com-wordpress:feed-additions:1";a:1:{s:7:"post-id";a:1:{i:0;a:5:{s:4:"data";s:6:"337319";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}i:14;a:6:{s:4:"data";s:88:"
		
		
					
		
		
		
				
		
		
		
		
		
		

					
										
					
					
			
		
		
			";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";s:5:"child";a:6:{s:0:"";a:7:{s:5:"title";a:1:{i:0;a:5:{s:4:"data";s:30:"Fixing a slow site iteratively";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"link";a:1:{i:0;a:5:{s:4:"data";s:54:"https://css-tricks.com/fixing-a-slow-site-iteratively/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:63:"https://css-tricks.com/fixing-a-slow-site-iteratively/#comments";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:7:"pubDate";a:1:{i:0;a:5:{s:4:"data";s:31:"Thu, 01 Apr 2021 14:26:21 +0000";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:8:"category";a:6:{i:0;a:5:{s:4:"data";s:7:"Article";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:5:"cache";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:2;a:5:{s:4:"data";s:8:"DevTools";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:3;a:5:{s:4:"data";s:4:"gzip";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:4;a:5:{s:4:"data";s:10:"lighthouse";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:5;a:5:{s:4:"data";s:11:"performance";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:4:"guid";a:1:{i:0;a:5:{s:4:"data";s:32:"https://css-tricks.com/?p=337261";s:7:"attribs";a:1:{s:0:"";a:1:{s:11:"isPermaLink";s:5:"false";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:11:"description";a:1:{i:0;a:5:{s:4:"data";s:606:"<p>Site performance is potentially the <strong>most important</strong> metric. The better the performance, the better chance that users stay on a page, read content, make purchases, or just about whatever they need to do. A 2017 study by Akamai says as &#8230;</p>
<hr />
<p>The post <a rel="nofollow" href="https://css-tricks.com/fixing-a-slow-site-iteratively/">Fixing a slow site iteratively</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
<p>You can support CSS-Tricks by being an <a href="https://css-tricks.com/product/mvp-supporter/">MVP Supporter</a>.</p>
";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:32:"http://purl.org/dc/elements/1.1/";a:1:{s:7:"creator";a:1:{i:0;a:5:{s:4:"data";s:11:"Kealan Parr";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:40:"http://purl.org/rss/1.0/modules/content/";a:1:{s:7:"encoded";a:1:{i:0;a:5:{s:4:"data";s:30694:"
<p>Site performance is potentially the <strong>most important</strong> metric. The better the performance, the better chance that users stay on a page, read content, make purchases, or just about whatever they need to do. A 2017 study by Akamai says as much when it found that even a <a href="https://www.gigaspaces.com/blog/amazon-found-every-100ms-of-latency-cost-them-1-in-sales">100ms delay in page load can decrease conversions by 7% and lose 1% of their sales for every 100ms</a> it takes for their site to load which, at the time of the study, <a href="https://www.fastcompany.com/1825005/how-one-second-could-cost-amazon-16-billion-sales">was equivalent to $1.6 billion</a> if the site slowed down by just one second. Google’s industry benchmarks from 2018 also <a href="https://www.thinkwithgoogle.com/marketing-strategies/app-and-mobile/mobile-page-speed-new-industry-benchmarks/">provide a striking breakdown</a> of how each second of loading affects bounce rates.</p>



<span id="more-337261"></span>



<figure class="wp-block-image size-full"><img loading="lazy" width="1000" height="698" src="https://css-tricks.com/wp-content/uploads/2021/03/s_A0C5096BFA8303839414CC314412C3052AB39AAE473B9A9A07DCEE95F6AE80BA_1616776526883_mobile-page-speed-new-industry-benchmarks-01-.width-1600.png" alt="" class="wp-image-337262" srcset="https://css-tricks.com/wp-content/uploads/2021/03/s_A0C5096BFA8303839414CC314412C3052AB39AAE473B9A9A07DCEE95F6AE80BA_1616776526883_mobile-page-speed-new-industry-benchmarks-01-.width-1600.png 1000w, https://css-tricks.com/wp-content/uploads/2021/03/s_A0C5096BFA8303839414CC314412C3052AB39AAE473B9A9A07DCEE95F6AE80BA_1616776526883_mobile-page-speed-new-industry-benchmarks-01-.width-1600-300x209.png 300w, https://css-tricks.com/wp-content/uploads/2021/03/s_A0C5096BFA8303839414CC314412C3052AB39AAE473B9A9A07DCEE95F6AE80BA_1616776526883_mobile-page-speed-new-industry-benchmarks-01-.width-1600-768x536.png 768w" sizes="(min-width: 735px) 864px, 96vw" /><figcaption>Source:&nbsp;<a target="_blank" href="https://www.thinkwithgoogle.com/marketing-strategies/app-and-mobile/mobile-page-speed-new-industry-benchmarks/" rel="noreferrer noopener">Google</a>/SOASTA Research, 2018.</figcaption></figure>



<p>On the flip side, Firefox <a href="https://blog.mozilla.org/metrics/2010/04/05/firefox-page-load-speed-part-ii/">made their webpages load 2.2 seconds faster</a> on average and it drove 60 million more Firefox downloads per year. Speed is also something Google considers when <a href="https://developers.google.com/web/updates/2018/07/search-ads-speed">ranking your website placement</a> on mobile. Having a slow site might leave you on page 452 of search results, regardless of any other metric.</p>



<p>With all of this in mind, I thought improving the speed of <a href="https://anonrobot.github.io/redirect-to-slow-site/">my own version of a slow site</a> would be a fun exercise. The code for the site is <a href="https://github.com/AnonRobot/slow-site">available on GitHub</a> for reference.</p>



<p>This is a very basic site made with simple HTML, CSS, and JavaScript. I’ve intentionally tried to keep this as simple as possible, meaning the reason it is slow has nothing to do with the complexity of the site itself, or because of some framework it uses. About the most complex part are some social media buttons for people to share the page.</p>



<p>Here’s the thing: performance is more than a one-off task. It’s inherently tied to everything we build and develop. So, while it’s tempting to solve everything in one fell swoop, the best approach to improving performance might be an iterative one. Determine if there’s any low-hanging fruit, and figure out what might be bigger or long-term efforts. In other words, incremental improvements are a great way to score performance wins. Again, every millisecond counts.</p>



<p>In that spirit, what we’re looking at in this article is focused more on the incremental wins and less on providing an exhaustive list or checklist of performance strategies.</p>



<h3 id="h-lighthouse">Lighthouse</h3>



<p>We’re going to be working with <a href="https://developers.google.com/web/tools/lighthouse">Lighthouse</a>. Many of you may already be super familiar with it. It’s even been <a href="https://css-tricks.com/tag/lighthouse/">covered a bunch</a> right here on CSS-Tricks. It’s is a Google service that audit things performance, accessibility, SEO, and best practices. I’m going to audit the performance of my slow site before and after the things we tackle in this article. The Lighthouse reports can be accessed directly in Chrome’s DevTools.</p>



<p>Go ahead, briefly look at the things that Lighthouse says are wrong with the website. It’s good to know what needs to be solved before diving right in.</p>



<figure class="wp-block-image size-large"><img loading="lazy" width="1024" height="468" src="https://css-tricks.com/wp-content/uploads/2021/03/image-1024x468.png" alt="" class="wp-image-337448" srcset="https://css-tricks.com/wp-content/uploads/2021/03/image-1024x468.png 1024w, https://css-tricks.com/wp-content/uploads/2021/03/image-300x137.png 300w, https://css-tricks.com/wp-content/uploads/2021/03/image-768x351.png 768w, https://css-tricks.com/wp-content/uploads/2021/03/image-1000x457.png 1000w, https://css-tricks.com/wp-content/uploads/2021/03/image.png 1135w" sizes="(min-width: 735px) 864px, 96vw" /><figcaption>On the bright side, we’re one-third of the way to our goal!</figcaption></figure>



<p>We can totally fix this, so let’s get started!</p>



<h3 id="h-improvement-1-redirects">Improvement #1: Redirects</h3>



<p>Before we do anything else, let’s see what happens when we first hit the website. It gets redirected. The site used to be at one URL and now it lives at another. That means any link that references the old URL is going to redirect to the new URL.</p>



<p>Redirects are often pretty light in terms of the latency that they add to a website, but they are an easy first thing to check, and they can generally be removed with little effort.</p>



<p>We can try to remove them by updating wherever we use the previous URL of the site, and point it to the updated URL so users are taken there directly instead of redirected. Using a network request inspector, I’m going to see if there’s anything we can remove via the Network panel in DevTools. We could also use a tool, like <a href="https://www.postman.com/">Postman</a> if we need to, but we’ll limit our work to DevTools as much as possible for the sake of simplicity.</p>



<p>First, let’s see if there are any HTTP or HTML redirects. I like using <a href="https://www.telerik.com/fiddler">Fiddler</a>, and when I inspect the network requests I see that there are indeed some old URLs and redirects floating around.</p>



<figure class="wp-block-image size-large"><img loading="lazy" width="1024" height="96" src="https://css-tricks.com/wp-content/uploads/2021/03/image-1-1024x96.png" alt="" class="wp-image-337449" srcset="https://css-tricks.com/wp-content/uploads/2021/03/image-1-1024x96.png 1024w, https://css-tricks.com/wp-content/uploads/2021/03/image-1-300x28.png 300w, https://css-tricks.com/wp-content/uploads/2021/03/image-1-768x72.png 768w, https://css-tricks.com/wp-content/uploads/2021/03/image-1-1000x94.png 1000w, https://css-tricks.com/wp-content/uploads/2021/03/image-1.png 1259w" sizes="(min-width: 735px) 864px, 96vw" /></figure>



<p>It looks like the first request we hit is <code>https://anonrobot.github.io/redirect-to-slow-site/</code> before it HTML redirects to <code>https://anonrobot.github.io/slow-site/</code>. We can repoint all our <code>redirect-to-slow-site</code> URLs to the updated URL. In DevTools, the Network inspector helps us see what the first webpage is doing too. From my view in Fiddler it looks like this:</p>



<figure class="wp-block-image size-large"><img loading="lazy" width="825" height="289" src="https://css-tricks.com/wp-content/uploads/2021/03/image-2.png" alt="" class="wp-image-337450" srcset="https://css-tricks.com/wp-content/uploads/2021/03/image-2.png 825w, https://css-tricks.com/wp-content/uploads/2021/03/image-2-300x105.png 300w, https://css-tricks.com/wp-content/uploads/2021/03/image-2-768x269.png 768w" sizes="(min-width: 735px) 864px, 96vw" /></figure>



<p>This tell us that the site is using an HTML redirect to the next site. I’m going to update my referenced URL to the new site to help decrease latency that adds drag to the initial page load.</p>



<h3 id="h-improvement-2-the-critical-render-path">Improvement #2: The Critical Render Path</h3>



<p>Next, I’m going to profile the sit with the Performance panel in DevTools. I am most interested in unblocking the site from rendering content as fast as it can. This is the process of turning HTML, CSS and JavaScript into a fully fleshed out, interactive website.</p>



<p>It begins with retrieving the HTML from the server and converting this into the <a href="https://css-tricks.com/dom/"><strong>Document Object Model</strong></a> (DOM). We’ll run any inline JavaScript as we see it, or download it if it’s an external asset as we go line-by-line parsing the HTML. We’ll also build the CSS into the <a href="https://css-tricks.com/an-introduction-and-guide-to-the-css-object-model-cssom/"><strong>CSS Object Model</strong></a> (CSSOM). The CSSOM and the DOM combine to make the render tree. From there, we run the layout which places everything on the screen in the correct place before finally running paint.</p>



<p>This process can be “blocked” if it has to wait for resources to load before it runs. That’s what we call the <strong>Critical Render Path</strong>, and the things that block the path are <a href="https://web.dev/render-blocking-resources/"><strong>critical resources</strong></a>.</p>



<p>The most common critical resources are:</p>



<ul><li>A <code>&lt;script&gt;</code> tag that is in the <code>&lt;head&gt;</code> and doesn’t contain an <code>async</code>, or <code>defer</code>, or <code>module</code> attribute.</li><li>A <code>&lt;link rel="stylesheet"&gt;</code> that doesn’t have the <code>disabled</code> attribute to inform the browser to not download the CSS and doesn’t have a <code>media</code> attribute that matches the user’s device.</li></ul>



<p>There’s a few more types of resources that might block the Critical Render Path, like fonts, but the two above are by far the most common. These resources block rendering because the browser thinks the page is “unfinished” and has no idea what resources it needs or has. For all the browser knows, the site could download something that expects the browser to do even more work, like styling or color changes; hence, the site is incomplete to the browser, so it assumes the worst and blocks rendering.</p>



<p>An example CSS file that wouldn’t block rendering would be:</p>



<pre rel="HTML" class="wp-block-csstricks-code-block language-markup" data-line=""><code markup="tt">&lt;link href="printing.css" rel="stylesheet" media="print"></code></pre>



<p>The <code>"media="print"</code> attribute only downloads the stylesheet when the user prints the webpage (because perhaps you want to style things differently in print), meaning the file itself isn’t blocking anything from rendering before it.</p>



<p>As Chris likes to say, <a href="https://css-tricks.com/front-end-developer-aware/">a front-end developer is aware</a>. And being aware of what a page needs to download before rendering begins is vitally important for improving performance audit scores.</p>



<h3 id="h-improvement-3-unblock-parsing">Improvement #3: Unblock parsing</h3>



<p>Blocking the render path is one thing we can immediately speed up, and we can also block parsing if we aren’t careful with our JavaScript. Parsing is what makes HTML elements part of the DOM, and whenever we encounter JavaScript that needs to run now, we block that HTML parsing from happening.</p>



<p>Some of the JavaScript in my slow webpage doesn’t need to block parsing. In other words, we can download the scripts asynchronously and continue parsing the HTML into the DOM without delay.</p>



<p>The <code>&lt;async&gt;</code> tag is what allows the browser to download the JavaScript asset asynchronously. The <code>&lt;defer&gt;</code> tag only runs the JavaScript once the page construction is complete.</p>



<p>There’s a trade off here between inlining JavaScript (so running it doesn’t require a network request) versus placing it into it’s own JavaScript file (for modularity and code-reuse). Feel free to make your own judgement call here as the best route is going to depend on the use case. The actual performance of applying CSS and JavaScript to a webpage will be the same whether it’s an external asset or inlined, once it has arrived. The only thing we are removing when we inline is the network request time to get the external assets (which sometimes makes a big difference).</p>



<p>The main thing we’re aiming for is to do as little as we can. We want to defer loading assets and make those assets as small as possible at the same time. All of this will translate into a better performance outcome.</p>



<p>My slow site is chaining <a href="https://web.dev/critical-request-chains/">multiple critical requests</a>, where the browser has to read the next line of HTML, wait, then read the next on to check for another asset, then wait. The size of the assets, when they get downloaded, and whether they block are all going to play hugely into how fast our webpage can load.</p>



<p>I approached this by profiling the site in the DevTools Performance panel, which is simply records the way the site loads over time. I briefly scanned my HTML and what it was downloading, then added <code>&lt;async&gt;</code> to any external JavaScript script that was blocking things (like the social media <code>&lt;script&gt;</code>, which isn’t necessary to load before rendering).</p>



<figure class="wp-block-image size-full"><img loading="lazy" width="1088" height="329" src="https://css-tricks.com/wp-content/uploads/2021/03/s_5073F6715A2DA42F012C27D244DF72F5CA41546DB390A32E30FB51B7D529727E_1615895377710_image.png" alt="" class="wp-image-337266" srcset="https://css-tricks.com/wp-content/uploads/2021/03/s_5073F6715A2DA42F012C27D244DF72F5CA41546DB390A32E30FB51B7D529727E_1615895377710_image.png 1088w, https://css-tricks.com/wp-content/uploads/2021/03/s_5073F6715A2DA42F012C27D244DF72F5CA41546DB390A32E30FB51B7D529727E_1615895377710_image-300x91.png 300w, https://css-tricks.com/wp-content/uploads/2021/03/s_5073F6715A2DA42F012C27D244DF72F5CA41546DB390A32E30FB51B7D529727E_1615895377710_image-1024x310.png 1024w, https://css-tricks.com/wp-content/uploads/2021/03/s_5073F6715A2DA42F012C27D244DF72F5CA41546DB390A32E30FB51B7D529727E_1615895377710_image-768x232.png 768w, https://css-tricks.com/wp-content/uploads/2021/03/s_5073F6715A2DA42F012C27D244DF72F5CA41546DB390A32E30FB51B7D529727E_1615895377710_image-1000x302.png 1000w" sizes="(min-width: 735px) 864px, 96vw" /><figcaption>Profiling the slow site reveals what assets are loading, how big they are, where they are located, and how much time it takes to load them.</figcaption></figure>



<p>It’s interesting that Chrome has a browser limit where it <a href="https://docs.pushtechnology.com/cloud/latest/manual/html/designguide/solution/support/connection_limitations.html">can only deal with six inflight HTTP connections</a> per domain name, and will wait for an asset to return before requesting another once those six are in-flight. That makes requesting multiple critical assets even worse for HTML parsing. Allowing the browser to continue parsing will speed up the time it takes to show something to the user, and improve our performance audit.</p>



<h3 id="h-improvement-4-reduce-the-payload-size">Improvement #4: Reduce the payload size</h3>



<p>The total size of a site is a huge determining factor as to how fast it will load. According to web.dev, sites should <a href="https://web.dev/interactive/">aim to be below 1,600 KB interactive</a> under 10 seconds. Large payloads are <a href="https://web.dev/total-byte-weight/">strongly correlated with long times to load</a>. You can even consider a large payload as an expense to the end user, as large downloads may require larger data plans that cost more money.</p>



<p>At this exact point in time, my slow site is a whopping 9,701 KB — more than six times the ideal size. Let’s trim that down.</p>



<h4 id="h-identifying-unused-dependencies">Identifying unused dependencies</h4>



<p>At the beginning of my development, I thought I might need certain assets or frameworks. I downloaded them onto my page and now can’t even remember which ones are actually being used. I definitely have some assets that are doing nothing but wasting time and space.</p>



<p>Using the Network inspector in DevTools (or a tool you feel comfortable with), we can see some things that can definitely be removed from the site without changing its underlying behavior. I found a lot of value in the <a href="https://developers.google.com/web/updates/2017/04/devtools-release-notes#coverage">Coverage</a> panel in DevTools because it will show just how much code is being used after everything’s downloaded.</p>



<figure class="wp-block-image size-large"><img loading="lazy" width="890" height="182" src="https://css-tricks.com/wp-content/uploads/2021/03/image-4.png" alt="" class="wp-image-337452" srcset="https://css-tricks.com/wp-content/uploads/2021/03/image-4.png 890w, https://css-tricks.com/wp-content/uploads/2021/03/image-4-300x61.png 300w, https://css-tricks.com/wp-content/uploads/2021/03/image-4-768x157.png 768w" sizes="(min-width: 735px) 864px, 96vw" /></figure>



<p>As we’ve already discussed, there is always a fine balance when it comes to inlining CSS and JavaScript versus using an external asset. But, at this very moment, it certainly appears that the site is downloading far too much than it really needs.</p>



<p>Another quick way to trim things down is to find whether any of the assets the site is trying to load 404s. Those requests can definitely be removed without any negative impact to the site since they aren’t loading anyway. Here’s what Fiddler shows me:</p>



<figure class="wp-block-image size-large"><img loading="lazy" width="862" height="311" src="https://css-tricks.com/wp-content/uploads/2021/03/image-5.png" alt="" class="wp-image-337453" srcset="https://css-tricks.com/wp-content/uploads/2021/03/image-5.png 862w, https://css-tricks.com/wp-content/uploads/2021/03/image-5-300x108.png 300w, https://css-tricks.com/wp-content/uploads/2021/03/image-5-768x277.png 768w" sizes="(min-width: 735px) 864px, 96vw" /></figure>



<p>Looking again at the Coverage report, we know there are things that are downloaded but have a significant amount of unused code still making its way to the page. In other words, these assets are doing something, but are also ready to do things we don’t even need them to do. That includes React, jQuery and Vue, so those can be removed from my slow site with no real impact.</p>



<p>Why so many JavaScript libraries? Well, we know there are real-life scenarios where we reach for something because it meets our requirements; but then those requirements change and we need to reach for something else. Again, we’ve got to be aware as front-end developers, and continually keeping an eye on what resources are relevant to site is part of that overall awareness.</p>



<h4 id="h-compressing-minifying-and-caching-assets">Compressing, minifying and caching assets</h4>



<p>Just because we need to serve an asset doesn’t mean we have to serve it as its full size, or even re-serve that asset the next time the user visits the site. We can compress our assets, minify our styles and scripts, and cache things responsibly so we’re serving what the user needs in the most efficient way possible.</p>



<ul><li>Compressing means we optimize a file, such as an image, to its smallest size without impacting its visual quality. For example, <a href="https://en.wikipedia.org/wiki/Gzip">gzip</a> is a common compression algorithm that makes assets smaller.</li><li>Minification improves the size of text-based assets, like external script files, by removing cruft from the code, like comments and whitespace, for the sake of sending fewer bytes over the wire.</li><li>Caching allows us to store an asset in the browser’s memory for an amount of time so that it is immediately available for users on subsequent page loads. So, load it once, enjoy it many times.</li></ul>



<p>Let’s look at three different types of assets and how to crunch them with these tactics.</p>



<h5 id="h-text-based-assets">Text-based assets</h5>



<p>These include text files, like HTML, CSS and JavaScript. We want to do everything in our power to make these as lightweight as possible, so we compress, minify, and cache them where possible.</p>



<p>At a very high level, gzip works by finding common, repeated parts in the content, stores these sequences once, then removes them from the source text. It keeps a dictionary-like look-up so it can quickly reference the saved pieces and place them back in place where they belong, in a process known as gunzipping. Check out this gzipped examples a file containing poetry.</p>



<figure class="wp-block-image size-large is-resized"><img loading="lazy" src="https://css-tricks.com/wp-content/uploads/2021/03/image-6-1024x333.png" alt="" class="wp-image-337454" width="1024" height="333" srcset="https://css-tricks.com/wp-content/uploads/2021/03/image-6-1024x333.png 1024w, https://css-tricks.com/wp-content/uploads/2021/03/image-6-300x97.png 300w, https://css-tricks.com/wp-content/uploads/2021/03/image-6-768x249.png 768w, https://css-tricks.com/wp-content/uploads/2021/03/image-6-1000x325.png 1000w, https://css-tricks.com/wp-content/uploads/2021/03/image-6.png 1238w" sizes="(min-width: 735px) 864px, 96vw" /><figcaption>The text in-between the curly braces is text that has been matched multiple times&nbsp;and is&nbsp;removed from the source text&nbsp;by gzip&nbsp;to make the file smaller.&nbsp;There are still unique parts of the string&nbsp;that gzip&nbsp;is unable to&nbsp;abstract&nbsp;to&nbsp;its dictionary, but things like&nbsp;{ a },&nbsp;for example, can be removed from wherever it appears and can be added back once it is received. (<a target="_blank" href="https://rawgit.com/jvns/7155528/raw/ef9785f023fc68d78dc4f61e732007149eec1e69/raven.html" rel="noreferrer noopener">View&nbsp;the full example</a>)</figcaption></figure>



<p>We’re doing this to make any text-based downloads as small as we can. We are already making use of gzip. I checked using <a href="http://www.gidnetwork.com/tools/gzip-test.php">this tool by GIDNetwork</a>. It shows that the slow site&#8217;s content is 59.9% compressed. That probably means there are more opportunities to make things even smaller.</p>



<p>I decided to consolidate the multiple CSS files into one single file called <code>styles.css</code>. This way, we’re limiting the number of network requests necessary. Besides, if we crack open the three files, each one contained such a tiny amount of CSS that the three network requests are simply unjustified.</p>



<p>And, while doing this, it gave me the opportunity to remove unnecessary CSS selectors that weren’t being applied in the DOM anywhere, again reducing the number of bytes sent to the user.</p>



<p class="explanation">Ilya Grigorik wrote an excellent article with <a href="https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/optimize-encoding-and-transfer#text-compression-with-gzip">strategies for compressing text-based assets</a>.</p>



<h5 id="h-images">Images</h5>



<p>We are also able to optimize the images on the slow site. As reports consistently show, images are the most common asset request. In fact, the <a href="https://httparchive.org/reports/state-of-images#bytesImg">median data transfer for images</a> is 948.1 KB for desktops and 902 KB for mobile devices from 2016 to 2021. That already more than half of the ideal 1,600KB size for an entire page load.</p>



<p>My slow site doesn’t serve that many images, but the images it does serve can be smaller. I ran the images through an online tool called <a href="https://squoosh.app/">Squoosh</a>, and achieved a 40% savings (18.6 KB to 11.2 KB). That’s a win! Of course, this is something you can do either before upload using a desktop application, like <a href="https://imageoptim.com/">ImageOptim</a>, or even as <a href="https://css-tricks.com/optimize-images-with-a-github-action/">part of your build process</a>.</p>



<p>I couldn’t see any visual differences between the original images and the optimized versions (which is great!) and I was even able to reduce the size further by resizing the actual file, reducing the quality of the image, and even changing the color palette. But those are things I did in image editing software. Ideally, that’s something you or a designer would do when initially making the assets.</p>



<h5 id="h-caching">Caching</h5>



<p>We’ve touched on minification and compression and what we can do to try and use these to our advantage. The final thing we can check is caching.</p>



<p>I have been requesting the slow site over and over and, so far, I can see it always looks like it’s requested fresh every time without any caching whatsoever. I looked through the HTML and saw caching was disabling here:</p>



<pre rel="HTML" class="wp-block-csstricks-code-block language-markup" data-line=""><code markup="tt">&lt;meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"></code></pre>



<p>I removed that line, so browser caching should now be able to take place, helping serve the content even faster.</p>



<h3 id="h-improvement-5-use-a-cdn">Improvement #5: Use a CDN</h3>



<p>Another big improvement we can make on any website is serving as much as you can from a Content Delivery Network (CDN). David Attard has a super thorough piece on <a href="https://css-tricks.com/adding-a-cdn-to-your-website/">how to add and leverage a CDN</a>. The traditional path of delivering content is to hit the server, request data, and wait for it to return. But if the user is requesting data from way across the other side of the world from where your data is served, well, that adds time. Making the bytes travel further in the response from the server can add up to large losses of speed, even if everything else is lightning quick.</p>



<p>A CDN is a set of distributed servers around the world that are capable of intelligently delivering content closer to the user because it has multiple locations it choose to serve it from.</p>



<figure class="wp-block-image size-full"><img loading="lazy" width="696" height="346" src="https://css-tricks.com/wp-content/uploads/2016/10/network-map-large.png" alt="" class="wp-image-247248" srcset="https://css-tricks.com/wp-content/uploads/2016/10/network-map-large.png 696w, https://css-tricks.com/wp-content/uploads/2016/10/network-map-large-300x149.png 300w" sizes="(min-width: 735px) 864px, 96vw" /><figcaption>Source:&nbsp;<a target="_blank" href="https://css-tricks.com/adding-a-cdn-to-your-website/" rel="noreferrer noopener">“Adding&nbsp;and Leveraging a CDN on Your Website”</a></figcaption></figure>



<p>We discussed earlier how I was making the user download jQuery when it doesn’t actually make use of the downloaded code, and we removed it. One easy fix here, if I did actually need jQuery, is to request the asset from a CDN. Why?</p>



<ul><li>A user may have already downloaded the asset from visiting another site, so we can serve a cached response for the CDN. 75.49% of the top one million sites <a href="https://trends.builtwith.com/javascript/jQuery">still use jQuery</a>, after all.</li><li>It doesn’t have to travel as far from the user requesting the data.</li></ul>



<p>We can do something as simple as grabbing jQuery from Google’s CDN, which they make available for anyone to reference in their own sites:</p>



<pre rel="HTML" class="wp-block-csstricks-code-block language-markup" data-line=""><code markup="tt">&lt;head>
  &lt;script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js">&lt;/script>
&lt;/head></code></pre>



<p>That serves jQuery significantly faster than a standard request from my server, that’s for sure.</p>



<h3 id="h-are-things-better">Are things better?</h3>



<p>If you have implemented along with me so far, or just read, it’s time to re-profile and see if any improvements has been made on what we’ve done so far.</p>



<p>Recall where we started:</p>



<figure class="wp-block-image"><img src="https://css-tricks.com/wp-content/uploads/2021/03/image-1024x468.png" alt="This image has an empty alt attribute; its file name is image-1024x468.png"/></figure>



<p>After our changes:</p>



<figure class="wp-block-image size-large"><img loading="lazy" width="1024" height="467" src="https://css-tricks.com/wp-content/uploads/2021/03/image-7-1024x467.png" alt="" class="wp-image-337455" srcset="https://css-tricks.com/wp-content/uploads/2021/03/image-7-1024x467.png 1024w, https://css-tricks.com/wp-content/uploads/2021/03/image-7-300x137.png 300w, https://css-tricks.com/wp-content/uploads/2021/03/image-7-768x350.png 768w, https://css-tricks.com/wp-content/uploads/2021/03/image-7-1000x456.png 1000w, https://css-tricks.com/wp-content/uploads/2021/03/image-7.png 1136w" sizes="(min-width: 735px) 864px, 96vw" /></figure>



<hr class="wp-block-separator"/>



<p>I hope this has been a helpful and encourages you to search for incremental performance wins on your own site. By optimally requesting assets, deferring some assets from loading, and reducing the overall size of the site size will get a functional, fully interactive site in front of the user as fast as possible.</p>



<p>Want to keep the conversation going? I share <a href="https://twitter.com/kealanparr">my writing on Twitter</a> if you want to see more or connect.</p>
<hr />
<p>The post <a rel="nofollow" href="https://css-tricks.com/fixing-a-slow-site-iteratively/">Fixing a slow site iteratively</a> appeared first on <a rel="nofollow" href="https://css-tricks.com">CSS-Tricks</a>.</p>
<p>You can support CSS-Tricks by being an <a href="https://css-tricks.com/product/mvp-supporter/">MVP Supporter</a>.</p>
";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:36:"http://wellformedweb.org/CommentAPI/";a:1:{s:10:"commentRss";a:1:{i:0;a:5:{s:4:"data";s:59:"https://css-tricks.com/fixing-a-slow-site-iteratively/feed/";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:38:"http://purl.org/rss/1.0/modules/slash/";a:1:{s:8:"comments";a:1:{i:0;a:5:{s:4:"data";s:1:"5";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:30:"com-wordpress:feed-additions:1";a:1:{s:7:"post-id";a:1:{i:0;a:5:{s:4:"data";s:6:"337261";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}}}s:44:"http://purl.org/rss/1.0/modules/syndication/";a:2:{s:12:"updatePeriod";a:1:{i:0;a:5:{s:4:"data";s:9:"
	hourly	";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}s:15:"updateFrequency";a:1:{i:0;a:5:{s:4:"data";s:4:"
	1	";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:30:"com-wordpress:feed-additions:1";a:1:{s:4:"site";a:1:{i:0;a:5:{s:4:"data";s:8:"45537868";s:7:"attribs";a:0:{}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:27:"http://www.w3.org/2005/Atom";a:1:{s:4:"link";a:2:{i:0;a:5:{s:4:"data";s:0:"";s:7:"attribs";a:1:{s:0:"";a:3:{s:3:"rel";s:4:"self";s:4:"type";s:19:"application/rss+xml";s:4:"href";s:37:"http://feeds.feedburner.com/CssTricks";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}i:1;a:5:{s:4:"data";s:0:"";s:7:"attribs";a:1:{s:0:"";a:2:{s:3:"rel";s:3:"hub";s:4:"href";s:32:"http://pubsubhubbub.appspot.com/";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}s:42:"http://rssnamespace.org/feedburner/ext/1.0";a:1:{s:4:"info";a:1:{i:0;a:5:{s:4:"data";s:0:"";s:7:"attribs";a:1:{s:0:"";a:1:{s:3:"uri";s:9:"csstricks";}}s:8:"xml_base";s:0:"";s:17:"xml_base_explicit";b:0;s:8:"xml_lang";s:0:"";}}}}}}}}}}}}s:4:"type";i:128;s:7:"headers";a:10:{s:12:"content-type";s:23:"text/xml; charset=UTF-8";s:4:"etag";s:27:"QuWXh7VwA8qzwNZTcno/P8fk0MU";s:13:"last-modified";s:29:"Tue, 06 Apr 2021 21:15:02 GMT";s:16:"content-encoding";s:4:"gzip";s:4:"date";s:29:"Tue, 06 Apr 2021 21:29:01 GMT";s:7:"expires";s:29:"Tue, 06 Apr 2021 21:29:01 GMT";s:13:"cache-control";s:18:"private, max-age=0";s:22:"x-content-type-options";s:7:"nosniff";s:16:"x-xss-protection";s:13:"1; mode=block";s:6:"server";s:3:"GSE";}s:5:"build";s:14:"20210405184954";}